<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>åªæ˜¯ç©ç© | JUST FUN - åªæ˜¯ç©ç© | JUST FUN</title><meta name="gridsome:hash" content="0810a28e7848218696784bc8b33ad1e40c9e72dc"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Hello"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/gridsome-blog/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/gridsome-blog/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/gridsome-blog/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/gridsome-blog/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/gridsome-blog/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/gridsome-blog/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/gridsome-blog/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/gridsome-blog/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/gridsome-blog/assets/css/0.styles.be694e5c.css" as="style"><link rel="preload" href="/gridsome-blog/assets/js/app.ea73c485.js" as="script"><link rel="preload" href="/gridsome-blog/assets/js/page--src--templates--ghost-post-vue.0de93747.js" as="script"><link rel="prefetch" href="/gridsome-blog/assets/js/6.4b802b1d.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--node-modules--gridsome--app--pages--404-vue.5fb9a6b8.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--src--pages--index-copy-vue.caed7301.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--src--pages--index-vue.daf713f0.js"><link rel="stylesheet" href="/gridsome-blog/assets/css/0.styles.be694e5c.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body  class="darkmode">
    <main role="main" data-server-rendered="true" id="app" class="container"><div class="row"><header class="header"><a href="/gridsome-blog/" class="active"><h1>ğŸ‘¨â€ğŸ’» åªæ˜¯ç©ç© | JUST FUN</h1></a><!----></header><div class="article"><h1 class="article-title">åˆ©ç”¨IntersectionObserverå‡ è¡Œä»£ç ç®€å•å®ç°å›¾ç‰‡æ‡’åŠ è½½</h1><p class="article-date"> 15 June 2023 Â· <i> min read</i></p><article><p>åšå®¢ä¹‹å‰é›†æˆäº†<a href="https://1900.live/douban">Doubanæ•°æ®</a>çš„å±•ç¤ºåŠŸèƒ½ï¼Œä¸è¿‡ç”±äºæ•°æ®ä¸€æ¬¡æ€§åŠ è½½è¿‡å¤šï¼Œä¸”éƒ½æ˜¯æœ‰å›¾ç‰‡çš„æ•°ï¼Œå¯¼è‡´åœ¨è¿›å…¥è¯¥ç½‘é¡µæ—¶ä¼šä½¿æµè§ˆå™¨å¡æ­»3-5ç§’ï¼Œç­‰åˆ°å›¾ç‰‡å®Œå…¨åŠ è½½å®Œæ¯•åæ‰èƒ½æ­£å¸¸æ“ä½œï¼Œéå¸¸å½±å“ç”¨æˆ·ä½“éªŒã€‚</p><p>æˆ‘æ£€æŸ¥äº†ä¸€ä¸‹ï¼Œå‘ç°å¡é¡¿çš„åŸå› ä¸»è¦è¿˜æ˜¯ä¸€æ¬¡æ€§å‘èµ·çš„å›¾ç‰‡åŠ è½½è¯·æ±‚å¤ªå¤šäº†ï¼ŒæŸ¥äº†ä¸‹èµ„æ–™ï¼Œä¼¼ä¹ä¸‹ä¸€ä»£çš„HTTP2.0åè®®å¥½åƒå¯¹è¿™æ–¹é¢åšäº†ä¼˜åŒ–ã€‚ä½†æ˜¯å¸¸è§„åšæ³•è¿˜æ˜¯ä½¿ç”¨æ‡’åŠ è½½æ¥å¤„ç†ï¼Œä¹Ÿå°±æ˜¯æ»šåˆ°å›¾ç‰‡ä½ç½®æ‰è¿›è¡Œå›¾ç‰‡è¯·æ±‚ã€‚</p><p>ä¸è¿‡æˆ‘ä¸å¤ªæƒ³ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„åº“æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œå…¶ä»–åº“ç”¨èµ·æ¥éº»çƒ¦ï¼Œè€Œä¸”å¾ˆè‡ƒè‚¿ï¼Œæˆ‘å…¶å®åªè¦ç®€å•çš„å®ç°è¿™ä¸ªåŠŸèƒ½å°±å¥½äº†ã€‚ä¹‹å‰åœ¨ç§»æ¤Smartä¸»é¢˜çš„TOCåŠŸèƒ½åˆ°äºŒã€‡ä¸€ä¹ä¸Šæ—¶å‘ç°ä»–ä½¿ç”¨äº† <code>IntersectionObserver</code> è¿™ä¸ªå‡½æ•°æ¥å¤„ç†ï¼Œä¾¿æŸ¥äº†ä¸€ä¸‹è¿™ä¸ªå‡½æ•°çš„ä»‹ç»ï¼š</p><blockquote>Intersection Observer API æä¾›äº†ä¸€ç§å¼‚æ­¥æ£€æµ‹ç›®æ ‡å…ƒç´ ä¸ç¥–å…ˆå…ƒç´ æˆ– <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Viewport?ref=1900.live">viewport</a> ç›¸äº¤æƒ…å†µå˜åŒ–çš„æ–¹æ³•ã€‚</blockquote><p>è¿™ä¸ªå‡½æ•°å¤šç”¨äºä»¥ä¸‹å‡ ç§æƒ…å†µ</p><ul><li>å›¾ç‰‡æ‡’åŠ è½½â€”â€”å½“å›¾ç‰‡æ»šåŠ¨åˆ°å¯è§æ—¶æ‰è¿›è¡ŒåŠ è½½</li><li>å†…å®¹æ— é™æ»šåŠ¨â€”â€”ä¹Ÿå°±æ˜¯ç”¨æˆ·æ»šåŠ¨åˆ°æ¥è¿‘å†…å®¹åº•éƒ¨æ—¶ç›´æ¥åŠ è½½æ›´å¤šï¼Œè€Œæ— éœ€ç”¨æˆ·æ“ä½œç¿»é¡µï¼Œç»™ç”¨æˆ·ä¸€ç§ç½‘é¡µå¯ä»¥æ— é™æ»šåŠ¨çš„é”™è§‰</li><li>æ£€æµ‹å¹¿å‘Šçš„æ›å…‰æƒ…å†µâ€”â€”ä¸ºäº†è®¡ç®—å¹¿å‘Šæ”¶ç›Šï¼Œéœ€è¦çŸ¥é“å¹¿å‘Šå…ƒç´ çš„æ›å…‰æƒ…å†µ</li><li>åœ¨ç”¨æˆ·çœ‹è§æŸä¸ªåŒºåŸŸæ—¶æ‰§è¡Œä»»åŠ¡æˆ–æ’­æ”¾åŠ¨ç”»</li></ul><p>åæŸ¥äº†ä¸€äº›èŒƒä¾‹ï¼Œä¾¿å‚ç…§<a href="https://juejin.cn/post/6844903930183303181?ref=1900.live">è¿™ä¸ªæ•™ç¨‹</a>çš„å®ç°äº†å›¾ç‰‡çš„æ‡’åŠ è½½åŠŸèƒ½ </p><figure class="kg-card kg-code-card"><pre><code class="language-html">&lt;div class="lazyload-wrapper "&gt;
	&lt;img src="https://iph.href.lu/150x220?text=Loading&amp;fg=666666&amp;bg=cccccc" data-src="{%= o.douban[i].poster %}" referrer-policy="no-referrer" class="lazyload" alt="{%= o.douban[i].title %}" width="150" height="220"&gt;
&lt;/div&gt;</code></pre><figcaption>å¤„ç†å›¾ç‰‡src</figcaption></figure><figure class="kg-card kg-code-card"><pre><code class="language-js">      let images = document.querySelectorAll(".lazyload");
      let observer = new IntersectionObserver(entries =&gt; {
        entries.forEach(item =&gt; {
          if (item.isIntersecting) {
            item.target.src = item.target.dataset.src; // å¼€å§‹åŠ è½½å›¾ç‰‡,æŠŠdata-srcçš„å€¼æ”¾åˆ°src
            observer.unobserve(item.target); // åœæ­¢ç›‘å¬å·²å¼€å§‹åŠ è½½çš„å›¾ç‰‡
          }
        });
      },
        {
          rootMargin: "0px 0px 500px 0px" // äº¤å‰è§†å›¾å‰çš„500åƒç´ æ—¶ï¼Œå°±å¼€å§‹æ´¾å‘äº‹ä»¶
        }
      );
      images.forEach(item =&gt; observer.observe(item));</code></pre><figcaption>jså®ç°ä¸»ä½“</figcaption></figure><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://cdn.1900.live/assets/2023/06/15image.png" class="kg-image" alt loading="lazy" width="524" height="397"><figcaption>rootMarginç¤ºä¾‹</figcaption></figure><p>åŸç†å…¶å®å¾ˆç®€å•</p><ul><li>å…ˆä¿®æ”¹ä½ çš„æ‰€æœ‰å›¾ç‰‡ï¼Œå°†imgå…ƒç´ çš„srcå±æ€§æŒ‡å®šä¸ºç©ºæˆ–è€…ä¸€ä¸ªå±•ä½å›¾ï¼Œç„¶åæ·»åŠ çš„ä¸€ä¸ªdataå±æ€§å­˜æ”¾å›¾ç‰‡é“¾æ¥ï¼Œå¦‚ <code>data-src</code> ï¼Œæ·»åŠ  <code>lazyload</code> ç±»ç”¨äºä¹‹åå¯ä»¥è·å–åˆ°å›¾ç‰‡ã€‚</li><li>é€šè¿‡ä¹‹å‰è®¾ç½®çš„ç±»åè·å–æ‰€æœ‰éœ€è¦æ‡’åŠ è½½çš„å›¾ç‰‡å…ƒç´ ã€‚</li><li>åˆ›å»ºä¸€ä¸ªIntersectionObserverå¯¹è±¡ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªå¤„ç†å‡½æ•°å’ŒrootMagin</li><li>å¤„ç†å‡½æ•°çš„ä¸»è¦å†…å®¹æ˜¯æ£€æµ‹è¢«è§‚æµ‹åˆ°çš„å¯¹è±¡çš„ <code>isIntersecting</code>(å¦‚æœ <code>isIntersecting</code> ä¸ºçœŸï¼Œåˆ™è¯¥å›¾ç‰‡è‡³å°‘å·²ç»è¾¾åˆ°æˆ‘ä»¬è®¾ç½®çš„rootMarginå€¼ä»¥å†…)<strong> </strong>åˆ¤æ–­ï¼Œå¦‚æœè¿›å…¥äº†ç›®æ ‡åŒºé—´å†…åˆ™å°†imgçš„data-srcè®¾ç½®ä¸ºsrcå±æ€§ã€‚</li><li>å¹¶é€šè¿‡è°ƒç”¨ <code>unobserve</code> åœæ­¢å¯¹è¿™ä¸ªç‰‡æ£€æµ‹ã€‚</li></ul><p>æˆ‘è®°å¾—ä»¥å‰å®ç°èµ·æ¥æŒºå¤æ‚çš„ï¼Œç°åœ¨æœ‰äº†ä¸ªå‡½æ•°åªéœ€è¦ç®€å•çš„å‡ è¡Œä»£ç å°±å¯ä»¥å®ç°ï¼ŒçœŸçš„æ–¹ä¾¿ã€‚</p><p>END</p><div class="kg-card kg-callout-card kg-callout-card-blue"><div class="kg-callout-emoji">ğŸ¥³</div><div class="kg-callout-text">åç»­ï¼šä¸»é¢˜ä¿®æ”¹å®Œä¸Šä¼ åˆ°æœåŠ¡å™¨åå‘ç°è¿˜æ˜¯ä¼šå‡ºç°å¡æ­»çš„æƒ…å†µï¼Œé€šè¿‡ä½¿ç”¨Chromeçš„æ€§èƒ½å·¥å…·å‘ç°pangu.autoSpacingPage()é˜»å¡äº†è¿›ç¨‹...ã€‚</div></div><div class="kg-card kg-callout-card kg-callout-card-red"><div class="kg-callout-emoji">ğŸ¥³</div><div class="kg-callout-text">åç»­2ï¼šæ ¹æ®ã€Œå‰‘å…¬å­ ã€çš„ç•™è¨€ï¼Œç°ä»£æµè§ˆå™¨å·²ç»<a href="https://developer.mozilla.org/zh-CN/docs/Web/Performance/Lazy_loading?ref=1900.live">åŸç”Ÿæ”¯æŒæ‡’åŠ è½½</a>ï¼Œåªéœ€è¦åœ¨imgæ ‡ç­¾ä¸­æ·»åŠ å±æ€§ <code>loading="lazy"</code> å³å¯ã€‚</div></div><p>é€šè¿‡æ€§èƒ½æ£€æµ‹å·¥å…·å¯ä»¥å‘ç° <code>spacingNode</code> ã€ <code>spacingNodeByXPath</code> é˜»å¡äº†è¿›ç¨‹ï¼Œä¸çŸ¥é“æ˜¯ä»€ä¹ˆåŸå› ã€‚æˆ‘å°è¯•å°†è°ƒç”¨å‡½æ•°æ¢æˆ <code>spacingPageBody()</code> åé¡µé¢æ€§èƒ½æ¢å¤æ­£å¸¸ã€‚å¯èƒ½æ˜¯bodyä¹‹å¤–çš„æŸäº›æ ‡ç­¾é˜»å¡äº†å‡½æ•°æ‰§è¡Œã€‚</p><figure class="kg-card kg-image-card"><img src="https://cdn.1900.live/assets/2023/06/151a114653-96f2-4329-9389-6990e82b8050.png" class="kg-image" alt loading="lazy" width="1050" height="969"></figure></article></div><div class="footer"><div><p>
          Built with
          <a target="_blank" href="//gridsome.org" class="link">Gridsome</a>
          &amp; Made with â¤ï¸ by
          <a target="_blank" href="//alex.design" class="link">Alex Brown</a></p></div><div class="footer-links"><a target="_blank" href="/sitemap.xml">Sitemap</a><a target="_blank" href="/feed.xml">RSS Feed</a></div></div></div></main>
    <script>window.__INITIAL_STATE__={"data":{"metadata":{"siteName":"åªæ˜¯ç©ç© | JUST FUN","siteDescription":"Hello"},"post":{"id":"648a82a1b7445300017623ac","title":"åˆ©ç”¨IntersectionObserverå‡ è¡Œä»£ç ç®€å•å®ç°å›¾ç‰‡æ‡’åŠ è½½","content":"\u003Cp\u003Eåšå®¢ä¹‹å‰é›†æˆäº†\u003Ca href=\"https:\u002F\u002F1900.live\u002Fdouban\"\u003EDoubanæ•°æ®\u003C\u002Fa\u003Eçš„å±•ç¤ºåŠŸèƒ½ï¼Œä¸è¿‡ç”±äºæ•°æ®ä¸€æ¬¡æ€§åŠ è½½è¿‡å¤šï¼Œä¸”éƒ½æ˜¯æœ‰å›¾ç‰‡çš„æ•°ï¼Œå¯¼è‡´åœ¨è¿›å…¥è¯¥ç½‘é¡µæ—¶ä¼šä½¿æµè§ˆå™¨å¡æ­»3-5ç§’ï¼Œç­‰åˆ°å›¾ç‰‡å®Œå…¨åŠ è½½å®Œæ¯•åæ‰èƒ½æ­£å¸¸æ“ä½œï¼Œéå¸¸å½±å“ç”¨æˆ·ä½“éªŒã€‚\u003C\u002Fp\u003E\u003Cp\u003Eæˆ‘æ£€æŸ¥äº†ä¸€ä¸‹ï¼Œå‘ç°å¡é¡¿çš„åŸå› ä¸»è¦è¿˜æ˜¯ä¸€æ¬¡æ€§å‘èµ·çš„å›¾ç‰‡åŠ è½½è¯·æ±‚å¤ªå¤šäº†ï¼ŒæŸ¥äº†ä¸‹èµ„æ–™ï¼Œä¼¼ä¹ä¸‹ä¸€ä»£çš„HTTP2.0åè®®å¥½åƒå¯¹è¿™æ–¹é¢åšäº†ä¼˜åŒ–ã€‚ä½†æ˜¯å¸¸è§„åšæ³•è¿˜æ˜¯ä½¿ç”¨æ‡’åŠ è½½æ¥å¤„ç†ï¼Œä¹Ÿå°±æ˜¯æ»šåˆ°å›¾ç‰‡ä½ç½®æ‰è¿›è¡Œå›¾ç‰‡è¯·æ±‚ã€‚\u003C\u002Fp\u003E\u003Cp\u003Eä¸è¿‡æˆ‘ä¸å¤ªæƒ³ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„åº“æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œå…¶ä»–åº“ç”¨èµ·æ¥éº»çƒ¦ï¼Œè€Œä¸”å¾ˆè‡ƒè‚¿ï¼Œæˆ‘å…¶å®åªè¦ç®€å•çš„å®ç°è¿™ä¸ªåŠŸèƒ½å°±å¥½äº†ã€‚ä¹‹å‰åœ¨ç§»æ¤Smartä¸»é¢˜çš„TOCåŠŸèƒ½åˆ°äºŒã€‡ä¸€ä¹ä¸Šæ—¶å‘ç°ä»–ä½¿ç”¨äº† \u003Ccode\u003EIntersectionObserver\u003C\u002Fcode\u003E è¿™ä¸ªå‡½æ•°æ¥å¤„ç†ï¼Œä¾¿æŸ¥äº†ä¸€ä¸‹è¿™ä¸ªå‡½æ•°çš„ä»‹ç»ï¼š\u003C\u002Fp\u003E\u003Cblockquote\u003EIntersection Observer API æä¾›äº†ä¸€ç§å¼‚æ­¥æ£€æµ‹ç›®æ ‡å…ƒç´ ä¸ç¥–å…ˆå…ƒç´ æˆ– \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fzh-CN\u002Fdocs\u002FGlossary\u002FViewport?ref=1900.live\"\u003Eviewport\u003C\u002Fa\u003E ç›¸äº¤æƒ…å†µå˜åŒ–çš„æ–¹æ³•ã€‚\u003C\u002Fblockquote\u003E\u003Cp\u003Eè¿™ä¸ªå‡½æ•°å¤šç”¨äºä»¥ä¸‹å‡ ç§æƒ…å†µ\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003Eå›¾ç‰‡æ‡’åŠ è½½â€”â€”å½“å›¾ç‰‡æ»šåŠ¨åˆ°å¯è§æ—¶æ‰è¿›è¡ŒåŠ è½½\u003C\u002Fli\u003E\u003Cli\u003Eå†…å®¹æ— é™æ»šåŠ¨â€”â€”ä¹Ÿå°±æ˜¯ç”¨æˆ·æ»šåŠ¨åˆ°æ¥è¿‘å†…å®¹åº•éƒ¨æ—¶ç›´æ¥åŠ è½½æ›´å¤šï¼Œè€Œæ— éœ€ç”¨æˆ·æ“ä½œç¿»é¡µï¼Œç»™ç”¨æˆ·ä¸€ç§ç½‘é¡µå¯ä»¥æ— é™æ»šåŠ¨çš„é”™è§‰\u003C\u002Fli\u003E\u003Cli\u003Eæ£€æµ‹å¹¿å‘Šçš„æ›å…‰æƒ…å†µâ€”â€”ä¸ºäº†è®¡ç®—å¹¿å‘Šæ”¶ç›Šï¼Œéœ€è¦çŸ¥é“å¹¿å‘Šå…ƒç´ çš„æ›å…‰æƒ…å†µ\u003C\u002Fli\u003E\u003Cli\u003Eåœ¨ç”¨æˆ·çœ‹è§æŸä¸ªåŒºåŸŸæ—¶æ‰§è¡Œä»»åŠ¡æˆ–æ’­æ”¾åŠ¨ç”»\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EåæŸ¥äº†ä¸€äº›èŒƒä¾‹ï¼Œä¾¿å‚ç…§\u003Ca href=\"https:\u002F\u002Fjuejin.cn\u002Fpost\u002F6844903930183303181?ref=1900.live\"\u003Eè¿™ä¸ªæ•™ç¨‹\u003C\u002Fa\u003Eçš„å®ç°äº†å›¾ç‰‡çš„æ‡’åŠ è½½åŠŸèƒ½ \u003C\u002Fp\u003E\u003Cfigure class=\"kg-card kg-code-card\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-html\"\u003E&lt;div class=\"lazyload-wrapper \"&gt;\n\t&lt;img src=\"https:\u002F\u002Fiph.href.lu\u002F150x220?text=Loading&amp;fg=666666&amp;bg=cccccc\" data-src=\"{%= o.douban[i].poster %}\" referrer-policy=\"no-referrer\" class=\"lazyload\" alt=\"{%= o.douban[i].title %}\" width=\"150\" height=\"220\"&gt;\n&lt;\u002Fdiv&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cfigcaption\u003Eå¤„ç†å›¾ç‰‡src\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cfigure class=\"kg-card kg-code-card\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E      let images = document.querySelectorAll(\".lazyload\");\n      let observer = new IntersectionObserver(entries =&gt; {\n        entries.forEach(item =&gt; {\n          if (item.isIntersecting) {\n            item.target.src = item.target.dataset.src; \u002F\u002F å¼€å§‹åŠ è½½å›¾ç‰‡,æŠŠdata-srcçš„å€¼æ”¾åˆ°src\n            observer.unobserve(item.target); \u002F\u002F åœæ­¢ç›‘å¬å·²å¼€å§‹åŠ è½½çš„å›¾ç‰‡\n          }\n        });\n      },\n        {\n          rootMargin: \"0px 0px 500px 0px\" \u002F\u002F äº¤å‰è§†å›¾å‰çš„500åƒç´ æ—¶ï¼Œå°±å¼€å§‹æ´¾å‘äº‹ä»¶\n        }\n      );\n      images.forEach(item =&gt; observer.observe(item));\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cfigcaption\u003Ejså®ç°ä¸»ä½“\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cfigure class=\"kg-card kg-image-card kg-card-hascaption\"\u003E\u003Cimg src=\"https:\u002F\u002Fcdn.1900.live\u002Fassets\u002F2023\u002F06\u002F15image.png\" class=\"kg-image\" alt loading=\"lazy\" width=\"524\" height=\"397\"\u003E\u003Cfigcaption\u003ErootMarginç¤ºä¾‹\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EåŸç†å…¶å®å¾ˆç®€å•\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003Eå…ˆä¿®æ”¹ä½ çš„æ‰€æœ‰å›¾ç‰‡ï¼Œå°†imgå…ƒç´ çš„srcå±æ€§æŒ‡å®šä¸ºç©ºæˆ–è€…ä¸€ä¸ªå±•ä½å›¾ï¼Œç„¶åæ·»åŠ çš„ä¸€ä¸ªdataå±æ€§å­˜æ”¾å›¾ç‰‡é“¾æ¥ï¼Œå¦‚ \u003Ccode\u003Edata-src\u003C\u002Fcode\u003E ï¼Œæ·»åŠ  \u003Ccode\u003Elazyload\u003C\u002Fcode\u003E ç±»ç”¨äºä¹‹åå¯ä»¥è·å–åˆ°å›¾ç‰‡ã€‚\u003C\u002Fli\u003E\u003Cli\u003Eé€šè¿‡ä¹‹å‰è®¾ç½®çš„ç±»åè·å–æ‰€æœ‰éœ€è¦æ‡’åŠ è½½çš„å›¾ç‰‡å…ƒç´ ã€‚\u003C\u002Fli\u003E\u003Cli\u003Eåˆ›å»ºä¸€ä¸ªIntersectionObserverå¯¹è±¡ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªå¤„ç†å‡½æ•°å’ŒrootMagin\u003C\u002Fli\u003E\u003Cli\u003Eå¤„ç†å‡½æ•°çš„ä¸»è¦å†…å®¹æ˜¯æ£€æµ‹è¢«è§‚æµ‹åˆ°çš„å¯¹è±¡çš„ \u003Ccode\u003EisIntersecting\u003C\u002Fcode\u003E(å¦‚æœ \u003Ccode\u003EisIntersecting\u003C\u002Fcode\u003E ä¸ºçœŸï¼Œåˆ™è¯¥å›¾ç‰‡è‡³å°‘å·²ç»è¾¾åˆ°æˆ‘ä»¬è®¾ç½®çš„rootMarginå€¼ä»¥å†…)\u003Cstrong\u003E \u003C\u002Fstrong\u003Eåˆ¤æ–­ï¼Œå¦‚æœè¿›å…¥äº†ç›®æ ‡åŒºé—´å†…åˆ™å°†imgçš„data-srcè®¾ç½®ä¸ºsrcå±æ€§ã€‚\u003C\u002Fli\u003E\u003Cli\u003Eå¹¶é€šè¿‡è°ƒç”¨ \u003Ccode\u003Eunobserve\u003C\u002Fcode\u003E åœæ­¢å¯¹è¿™ä¸ªç‰‡æ£€æµ‹ã€‚\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003Eæˆ‘è®°å¾—ä»¥å‰å®ç°èµ·æ¥æŒºå¤æ‚çš„ï¼Œç°åœ¨æœ‰äº†ä¸ªå‡½æ•°åªéœ€è¦ç®€å•çš„å‡ è¡Œä»£ç å°±å¯ä»¥å®ç°ï¼ŒçœŸçš„æ–¹ä¾¿ã€‚\u003C\u002Fp\u003E\u003Cp\u003EEND\u003C\u002Fp\u003E\u003Cdiv class=\"kg-card kg-callout-card kg-callout-card-blue\"\u003E\u003Cdiv class=\"kg-callout-emoji\"\u003EğŸ¥³\u003C\u002Fdiv\u003E\u003Cdiv class=\"kg-callout-text\"\u003Eåç»­ï¼šä¸»é¢˜ä¿®æ”¹å®Œä¸Šä¼ åˆ°æœåŠ¡å™¨åå‘ç°è¿˜æ˜¯ä¼šå‡ºç°å¡æ­»çš„æƒ…å†µï¼Œé€šè¿‡ä½¿ç”¨Chromeçš„æ€§èƒ½å·¥å…·å‘ç°pangu.autoSpacingPage()é˜»å¡äº†è¿›ç¨‹...ã€‚\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"kg-card kg-callout-card kg-callout-card-red\"\u003E\u003Cdiv class=\"kg-callout-emoji\"\u003EğŸ¥³\u003C\u002Fdiv\u003E\u003Cdiv class=\"kg-callout-text\"\u003Eåç»­2ï¼šæ ¹æ®ã€Œå‰‘å…¬å­ ã€çš„ç•™è¨€ï¼Œç°ä»£æµè§ˆå™¨å·²ç»\u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fzh-CN\u002Fdocs\u002FWeb\u002FPerformance\u002FLazy_loading?ref=1900.live\"\u003EåŸç”Ÿæ”¯æŒæ‡’åŠ è½½\u003C\u002Fa\u003Eï¼Œåªéœ€è¦åœ¨imgæ ‡ç­¾ä¸­æ·»åŠ å±æ€§ \u003Ccode\u003Eloading=\"lazy\"\u003C\u002Fcode\u003E å³å¯ã€‚\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cp\u003Eé€šè¿‡æ€§èƒ½æ£€æµ‹å·¥å…·å¯ä»¥å‘ç° \u003Ccode\u003EspacingNode\u003C\u002Fcode\u003E ã€ \u003Ccode\u003EspacingNodeByXPath\u003C\u002Fcode\u003E é˜»å¡äº†è¿›ç¨‹ï¼Œä¸çŸ¥é“æ˜¯ä»€ä¹ˆåŸå› ã€‚æˆ‘å°è¯•å°†è°ƒç”¨å‡½æ•°æ¢æˆ \u003Ccode\u003EspacingPageBody()\u003C\u002Fcode\u003E åé¡µé¢æ€§èƒ½æ¢å¤æ­£å¸¸ã€‚å¯èƒ½æ˜¯bodyä¹‹å¤–çš„æŸäº›æ ‡ç­¾é˜»å¡äº†å‡½æ•°æ‰§è¡Œã€‚\u003C\u002Fp\u003E\u003Cfigure class=\"kg-card kg-image-card\"\u003E\u003Cimg src=\"https:\u002F\u002Fcdn.1900.live\u002Fassets\u002F2023\u002F06\u002F151a114653-96f2-4329-9389-6990e82b8050.png\" class=\"kg-image\" alt loading=\"lazy\" width=\"1050\" height=\"969\"\u003E\u003C\u002Ffigure\u003E","date":"15 June 2023","path":"implement-lazy-loading-of-images-using-intersectionobserver"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/gridsome-blog/assets/js/app.ea73c485.js" defer></script><script src="/gridsome-blog/assets/js/page--src--templates--ghost-post-vue.0de93747.js" defer></script>
  </body>
</html>