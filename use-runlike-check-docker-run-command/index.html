<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>只是玩玩 | JUST FUN - 只是玩玩 | JUST FUN</title><meta name="gridsome:hash" content="03d4e26bc6a7202eb1f57b68d71e0c4979a9960b"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="/gridsome-blog"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/assets/css/0.styles.be694e5c.css" as="style"><link rel="preload" href="/assets/js/app.86bb94d9.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--ghost-post-vue.0de93747.js" as="script"><link rel="prefetch" href="/assets/js/6.4b802b1d.js"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.5fb9a6b8.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-copy-vue.caed7301.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.a2bb3d29.js"><link rel="stylesheet" href="/assets/css/0.styles.be694e5c.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body  class="darkmode">
    <main role="main" data-server-rendered="true" id="app" class="container"><div class="row"><header class="header"><a href="/" class="active"><h1>👨‍💻 只是玩玩 | JUST FUN</h1></a><!----></header><div class="article"><h1 class="article-title">利用Runlike查看Docker的启动命令</h1><p class="article-date"> 6 September 2022 · <i> min read</i></p><article><p>我经常会忘记自己docker容器当时运行的命令，有时候来做删除或者修改之类的都是小心意义，怕一删除或修改容器坏了拉不起来，但是我又不想使用那些臃肿的管理平台，所以得另外想办法。</p><p>官方现有的 <code>docker inspect</code> 可以查看Docker的运行结构，但是这个命令不太好用，输出的内容一长串不太直观，我只想得到一个结果： <code>我这个容器是以什么命令Run起来的</code> 。</p><p>百度了一下找到python有一个叫Runlike的组件，可以获取Docke的启动命令。</p><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://github.com/lavie/runlike?ref=1900.live"><div class="kg-bookmark-content"><div class="kg-bookmark-title">GitHub - lavie/runlike: Given an existing docker container, prints the command line necessary to run a copy of it.</div><div class="kg-bookmark-description">Given an existing docker container, prints the command line necessary to run a copy of it. - GitHub - lavie/runlike: Given an existing docker container, prints the command line necessary to run a c...</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://github.com/fluidicon.png" alt><span class="kg-bookmark-author">GitHub</span><span class="kg-bookmark-publisher">lavie</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://opengraph.githubassets.com/3ecea4e02e45bbc942f532a19e13bdd1e6173fb2186af574d261ac8ca899e975/lavie/runlike" alt></div></a></figure><h3 id="%E5%AE%89%E8%A3%85">安装</h3><p>Runlike是一个python写的工具，你可能需要先安装pip包管理器</p><figure class="kg-card kg-code-card"><pre><code class="language-bash"># 方式1：手动下载安装脚本
curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py  
sudo python get-pip.py    # 运行安装脚本

# 方式2：利用包管理器安装
sudo apt-get install python-pip</code></pre><figcaption>安装pip，这部分脚本我没测试过</figcaption></figure><figure class="kg-card kg-code-card"><pre><code class="language-bash">pip install runlike  

# 安装完后创建alias
alias runlike="docker run --rm -v /var/run/docker.sock:/var/run/docker.sock assaflavie/runlike"</code></pre><figcaption>利用pip安装runlike，并创建alias</figcaption></figure><h3 id="%E4%BD%BF%E7%94%A8">使用</h3><pre><code class="language-bash">runlike -p 容器名称 | 容器id 都可以

## 结果
docker run \
        --name=memos2 \
        --hostname=687a544e61da \
        --mac-address=0:0:0:0:0:0 \
        --env=PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \
        --volume=/test/memos2-data/:/test/memos \
        --workdir=/usr/local/memos \
        -p 10447:21315 \
        --restart=always \
        --runtime=runc \
        --detach=true \
        neosmemo/memos:latest \
        --mode prod --port 21315</code></pre></article></div><div class="footer"><div><p>
          Built with
          <a target="_blank" href="//gridsome.org" class="link">Gridsome</a>
          &amp; Made with ❤️ by
          <a target="_blank" href="//alex.design" class="link">Alex Brown</a></p></div><div class="footer-links"><a target="_blank" href="/sitemap.xml">Sitemap</a><a target="_blank" href="/feed.xml">RSS Feed</a></div></div></div></main>
    <script>window.__INITIAL_STATE__={"data":{"metadata":{"siteName":"只是玩玩 | JUST FUN","siteDescription":"\u002Fgridsome-blog"},"post":{"id":"631711f83236fa0a468111ef","title":"利用Runlike查看Docker的启动命令","content":"\u003Cp\u003E我经常会忘记自己docker容器当时运行的命令，有时候来做删除或者修改之类的都是小心意义，怕一删除或修改容器坏了拉不起来，但是我又不想使用那些臃肿的管理平台，所以得另外想办法。\u003C\u002Fp\u003E\u003Cp\u003E官方现有的 \u003Ccode\u003Edocker inspect\u003C\u002Fcode\u003E 可以查看Docker的运行结构，但是这个命令不太好用，输出的内容一长串不太直观，我只想得到一个结果： \u003Ccode\u003E我这个容器是以什么命令Run起来的\u003C\u002Fcode\u003E 。\u003C\u002Fp\u003E\u003Cp\u003E百度了一下找到python有一个叫Runlike的组件，可以获取Docke的启动命令。\u003C\u002Fp\u003E\u003Cfigure class=\"kg-card kg-bookmark-card\"\u003E\u003Ca class=\"kg-bookmark-container\" href=\"https:\u002F\u002Fgithub.com\u002Flavie\u002Frunlike?ref=1900.live\"\u003E\u003Cdiv class=\"kg-bookmark-content\"\u003E\u003Cdiv class=\"kg-bookmark-title\"\u003EGitHub - lavie\u002Frunlike: Given an existing docker container, prints the command line necessary to run a copy of it.\u003C\u002Fdiv\u003E\u003Cdiv class=\"kg-bookmark-description\"\u003EGiven an existing docker container, prints the command line necessary to run a copy of it. - GitHub - lavie\u002Frunlike: Given an existing docker container, prints the command line necessary to run a c...\u003C\u002Fdiv\u003E\u003Cdiv class=\"kg-bookmark-metadata\"\u003E\u003Cimg class=\"kg-bookmark-icon\" src=\"https:\u002F\u002Fgithub.com\u002Ffluidicon.png\" alt\u003E\u003Cspan class=\"kg-bookmark-author\"\u003EGitHub\u003C\u002Fspan\u003E\u003Cspan class=\"kg-bookmark-publisher\"\u003Elavie\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"kg-bookmark-thumbnail\"\u003E\u003Cimg src=\"https:\u002F\u002Fopengraph.githubassets.com\u002F3ecea4e02e45bbc942f532a19e13bdd1e6173fb2186af574d261ac8ca899e975\u002Flavie\u002Frunlike\" alt\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003C\u002Ffigure\u003E\u003Ch3 id=\"%E5%AE%89%E8%A3%85\"\u003E安装\u003C\u002Fh3\u003E\u003Cp\u003ERunlike是一个python写的工具，你可能需要先安装pip包管理器\u003C\u002Fp\u003E\u003Cfigure class=\"kg-card kg-code-card\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003E# 方式1：手动下载安装脚本\ncurl https:\u002F\u002Fbootstrap.pypa.io\u002Fget-pip.py -o get-pip.py  \nsudo python get-pip.py    # 运行安装脚本\n\n# 方式2：利用包管理器安装\nsudo apt-get install python-pip\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cfigcaption\u003E安装pip，这部分脚本我没测试过\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cfigure class=\"kg-card kg-code-card\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Epip install runlike  \n\n# 安装完后创建alias\nalias runlike=\"docker run --rm -v \u002Fvar\u002Frun\u002Fdocker.sock:\u002Fvar\u002Frun\u002Fdocker.sock assaflavie\u002Frunlike\"\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cfigcaption\u003E利用pip安装runlike，并创建alias\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Ch3 id=\"%E4%BD%BF%E7%94%A8\"\u003E使用\u003C\u002Fh3\u003E\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Erunlike -p 容器名称 | 容器id 都可以\n\n## 结果\ndocker run \\\n        --name=memos2 \\\n        --hostname=687a544e61da \\\n        --mac-address=0:0:0:0:0:0 \\\n        --env=PATH=\u002Fusr\u002Flocal\u002Fsbin:\u002Fusr\u002Flocal\u002Fbin:\u002Fusr\u002Fsbin:\u002Fusr\u002Fbin:\u002Fsbin:\u002Fbin \\\n        --volume=\u002Ftest\u002Fmemos2-data\u002F:\u002Ftest\u002Fmemos \\\n        --workdir=\u002Fusr\u002Flocal\u002Fmemos \\\n        -p 10447:21315 \\\n        --restart=always \\\n        --runtime=runc \\\n        --detach=true \\\n        neosmemo\u002Fmemos:latest \\\n        --mode prod --port 21315\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E","date":"6 September 2022","path":"use-runlike-check-docker-run-command"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.86bb94d9.js" defer></script><script src="/assets/js/page--src--templates--ghost-post-vue.0de93747.js" defer></script>
  </body>
</html>