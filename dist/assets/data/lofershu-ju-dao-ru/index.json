{"hash":"c172d95f3caedc458b15c41bd34a3ceddae884e7","data":{"metadata":{"siteName":"只是玩玩 | JUST FUN","siteDescription":"/gridsome-blog"},"post":{"id":"63158312cf533d1c2cf29acb","title":"lofter数据导入","content":"<!--kg-card-begin: markdown--><p>因为最近有去街拍的想法，照片打算同步到之前的lofter上，刚刚去lofter看了下却意外的发现以前似乎把其他博客的文章统一导入过lofter上面，而且发现居然还不少，有200多篇！！！这是这几天为数不多让我高兴的事情了...</p>\n<p>这里记录下导入过程中的一些问题。</p>\n<p><strong>lofter数据到出为ghost可用格式</strong></p>\n<p>自己看了下ghost似乎没有可以导入lofter数据的插件，本来无奈之下打算一篇篇复制粘贴。后来看到文章中有一篇文章是当时wordpress导入到lofter的内容。遂灵机一动用wordpress做中转站，而且wordpress有ghost官方的数据导出插件。</p>\n<p><strong>1. 先去lofter后台&gt;导航菜单中的[更多]选项&gt;导入&amp;导出。</strong></p>\n<p><img src=\"https://cdn.1900.live/201804/timjie-tu-20180413115326.png\" alt=\"timjie-tu-20180413115326\" loading=\"lazy\"></p>\n<p><strong>2. 随便找个空间或者在现有vps上搭建个wordpress用于做数据中转，这里要用到三个插件来导入数据和整理文章slug，分别是：</strong></p>\n<p><img src=\"https://cdn.1900.live/201804/timjie-tu-20180413113932.png\" alt=\"timjie-tu-20180413113932\" loading=\"lazy\"></p>\n<blockquote>\n<p><strong>Ghost：</strong> 这个插件用于导出用于ghost的json数据<br>\n<strong>WP-Youdao-slug：</strong> 因为第一次尝试时发现导出后的ghost文章数据的slug是encoding码，出现了文章下方不显示上一篇和下一篇文章的问题所以，而且没有可读性，所以用这个工具批量翻译了一下文章的slug。<br>\n<strong>博客搬家到wordpress：</strong> 这个工具不仅可以导入lofter数据到wordpress上，还支持：博客园、OSChina、CSDN、点点等平台。<br>\n<strong>PS：除了有道这个翻译插件需要在百度网盘下载：<a href=\"https://pan.baidu.com/s/1kTIEJxt?ref=1900.live\">点我</a>，其他的都可以在wordpress的插件库里搜到。</strong></p>\n</blockquote>\n<p><strong>整理slug</strong></p>\n<p>前面说到的这个插件并不能自动批量转换之前文章的slug，而且只会在更新文章的时候触发钩子，所以这里我用了个笨办法，在后台一页页的批量编辑然后提交。</p>\n<p><img src=\"https://cdn.1900.live/201804/timjie-tu-20180413113305.png\" alt=\"timjie-tu-20180413113305\" loading=\"lazy\"><br>\n<img src=\"https://cdn.1900.live/201804/timjie-tu-20180413113320.png\" alt=\"timjie-tu-20180413113320\" loading=\"lazy\"></p>\n<p><em>ps:后来想到可以先装插件再导入数据没准可以省去这一步奏，有机会的朋友可以测试下。</em></p>\n<p><strong>一些修改和图片转移</strong></p>\n<p><strong>1. 用ghost的导出插件导出数据</strong></p>\n<p>然后用ghost的工具导出数据即可，不过我第一次尝试的时候发现导出的数据有点问题，要进行以下几个地方的修改</p>\n<p>直接拉到最后一行，这里的user信息里的email要添加进去，作者要改成现有的用户，不然可能会新建一个admin用户。</p>\n<p><img src=\"https://cdn.1900.live/201804/timjie-tu-20180413114252.png\" alt=\"timjie-tu-20180413114252\" loading=\"lazy\"></p>\n<p><strong>2. 转移图片</strong></p>\n<p>另外如果你想保存以前的图片的话修改下图片链接地址，直接批量找以前的url链接替换为现在的链接即可</p>\n<p><img src=\"https://cdn.1900.live/201804/timjie-tu-20180413114243.png\" alt=\"timjie-tu-20180413114243\" loading=\"lazy\"></p>\n<p>用博客搬家到wordpress这个插件导入的话会把图片自动下载到vps上，而且链接也会替换，而且所有图片文件统一放在一个目录下面，所以我索性直接打包下载下来用七牛的插件同步到七牛上去，只要再加个前缀就能无损转移了。</p>\n<p><img src=\"https://cdn.1900.live/201804/timjie-tu-20180413114351.png\" alt=\"timjie-tu-20180413114351\" loading=\"lazy\"></p>\n<p><strong>END</strong></p>\n<p>结果很舒服，2012年到2016年的博文全部正常导入博客。</p>\n<p><img src=\"https://cdn.1900.live/201804/timjie-tu-20180413121827.png\" alt=\"timjie-tu-20180413121827\" loading=\"lazy\"></p>\n<!--kg-card-end: markdown-->","date":"13 April 2018","path":"lofershu-ju-dao-ru"}},"context":{}}