{"hash":"c172d95f3caedc458b15c41bd34a3ceddae884e7","data":{"metadata":{"siteName":"只是玩玩 | JUST FUN","siteDescription":"/gridsome-blog"},"post":{"id":"639593ca5d48720001f9383c","title":"Powershell下Conda安装和配置","content":"<hr><p><s>我在考虑要不要把Nodejs、Python、Ruby都用Conda来管理。</s><br><s>不过先看看相关资料。</s><br>已经用上了，真香。</p><h2 id=\"%E5%85%B3%E4%BA%8Econda%E7%9A%84%E5%8F%91%E8%A1%8C%E7%89%88%E6%9C%AC\">关于Conda的发行版本</h2><ul><li>conda是一个包和环境管理工具，它不仅能管理包，还能隔离和管理不同python版本的环境。类似管理nodejs环境的nvm工具。</li><li>anaconda和miniconda都是conda的一种发行版。只是包含的包不同。</li><li>anaconda包含了conda、python等180多个科学包及其依赖项，体格比较大。但很多东西你未必用到，所以才有mini版。</li><li>miniconda是最小的conda安装环境，只有conda+python+pip+zlib和一些其他常用的包，体格非常迷你。</li><li>pip也叫包管理器，和conda的区别是，pip只管理python的包，而conda可以安装所有语言的包。而且conda可以管理python环境，pip不行。</li></ul><h2 id=\"%E5%AE%89%E8%A3%85conda\">安装Conda</h2><p>我这里选择安装miniconda，conda完全安装似乎要3个多G，没有必要。<br>我使用的是 <code>Winget</code> 安装（不得不说Winget是挺方便的），命令如下：</p><pre><code class=\"language-shell\">winget install miniconda3\n</code></pre><h3 id=\"%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4\">常用命令</h3><pre><code class=\"language-shell\">clean        Remove unused packages and caches.\ncompare      Compare packages between conda environments.\nconfig       Modify configuration values in .condarc. This is modeled after the git config \n                    command. Writes to the   user .condarc file (C:\\Users\\me\\.condarc) by default.\ncreate       Create a new conda environment from a list of specified packages.\nhelp         Displays a list of available conda commands and their help strings.\ninfo         Display information about current conda install.\ninit         Initialize conda for shell interaction. [Experimental]\ninstall      Installs a list of packages into a specified conda environment.\nlist         List linked packages in a conda environment.\npackage      Low-level conda package utility. (EXPERIMENTAL)\nremove       Remove a list of packages from a specified conda environment.\nuninstall    Alias for conda remove.\nrun          Run an executable in a conda environment. [Experimental]\nsearch       Search for packages and display associated information. The input is a MatchSpec, \n                   a query language     for conda packages. See examples below.\nupdate       Updates conda packages to the latest compatible version.\nupgrade      Alias for conda update.\nenv list       查看所有环境\n</code></pre><p>等进度条走完就可以用 <code>conda</code> 关键字使用了。</p><h3 id=\"%E5%88%9D%E5%A7%8B%E5%8C%96\">初始化</h3><p>window下用powershell安装后会出现无法切换conda环境的问题，而且不会报错，但是你无法切换环境。我找了很多资料<sup><a>[1]</a></sup>后发现要使用 <code>init</code> 命令进行初始化，等执行完后。</p><pre><code>conda init powershell\n</code></pre><h3 id=\"%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83\">创建虚拟环境</h3><p>使用 <code>create</code> 命令就可以创建虚拟环境了，<code>-n</code> 设置虚拟环境名称。 后面可以指定安装各种环境包，可以同时安装多个环境。</p><pre><code class=\"language-shell\">conda create -n vsdev python=3.8.6 nodejs=18.12.1\n</code></pre><h3 id=\"%E6%BF%80%E6%B4%BB%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83\">激活虚拟环境</h3><p>使用<code>activate</code>激活虚拟环境</p><pre><code class=\"language-shell\">conda activate vsdev\n</code></pre><h3 id=\"%E7%AE%A1%E7%90%86%E5%8C%85\">管理包</h3><p>建议统一使用conda来管理包，原因可以参见 <a>pip install 和conda install的区别</a></p><pre><code class=\"language-shell\">conda install nodejs\nconda install pymssql\nconda remove nodejs</code></pre><hr><p><a href=\"https://docs.conda.io/projects/conda/en/latest/commands/init.html?highlight=init&ref=1900.live\">conda init — conda 22.11.1.post4+22d01b513 documentation</a> <a>↩︎</a></p>","date":"11 December 2022","path":"under-the-powershell-conda-installation-and-configuration"}},"context":{}}