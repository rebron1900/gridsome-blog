<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>只是玩玩 | JUST FUN - 只是玩玩 | JUST FUN</title><meta name="gridsome:hash" content="09771c91682eedafd3ee73b22826856fd274f766"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Hello"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/gridsome-blog/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/gridsome-blog/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/gridsome-blog/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/gridsome-blog/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/gridsome-blog/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/gridsome-blog/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/gridsome-blog/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/gridsome-blog/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/gridsome-blog/assets/css/0.styles.be694e5c.css" as="style"><link rel="preload" href="/gridsome-blog/assets/js/app.d2c4c427.js" as="script"><link rel="preload" href="/gridsome-blog/assets/js/page--src--templates--ghost-post-vue.0de93747.js" as="script"><link rel="prefetch" href="/gridsome-blog/assets/js/6.4b802b1d.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--node-modules--gridsome--app--pages--404-vue.5fb9a6b8.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--src--pages--index-copy-vue.caed7301.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--src--pages--index-vue.a2bb3d29.js"><link rel="stylesheet" href="/gridsome-blog/assets/css/0.styles.be694e5c.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body  class="darkmode">
    <main role="main" data-server-rendered="true" id="app" class="container"><div class="row"><header class="header"><a href="/gridsome-blog/" class="active"><h1>👨‍💻 只是玩玩 | JUST FUN</h1></a><!----></header><div class="article"><h1 class="article-title">Godot游戏引擎学习 第一课</h1><p class="article-date"> 19 December 2020 · <i> min read</i></p><article><p>因为最近在B站都喜欢看一些独立游戏开发的视频，导致大数据知道我的喜好一直给我推相关视频，经常能刷到一些游戏开发者的开发录像和直播。那段时间经常看<strong><a href="https://live.bilibili.com/7805345?visit_id=aa7b3ruetrs0&ref=1900.live">Carotaa666</a> </strong>的直播，那几天几乎每天晚上都会上去看下他的进度。当时还问过他那个是什么引擎，因为直播间人少他每次也都和我做了互动。</p><figure class="kg-card kg-image-card"><img src="https://cdn.1900.live/202012/image.png" class="kg-image" alt loading="lazy" width="2560" height="1439"></figure><p>看了一段时间后知道他用的<a href="https://zh.wikipedia.org/wiki/GameMaker:_Studio?ref=1900.live">Game Maker stuido2</a>做的开发，以前也了解过这家公司的<a href="https://zh.wikipedia.org/wiki/RPG_Maker_VX?ref=1900.live">RPG Maker</a>，是一家公司的产品，不过GMS2定制性更强，能做出什么游戏完全看程序员水平，不过只能开发2D游戏。但是这个引擎是收费的，不过也不贵，300块左右就能在steam上买到了。当时也看过一些这个引擎的学习资料，当时给我的感觉是没有以前开发C#的时候那种可拖放式的组件，很多功能都能要自己实现（纯个人感受吧）。</p><figure class="kg-card kg-image-card"><img src="https://cdn.1900.live/202012/wei-xin-tu-pian-_20201219205619.png" class="kg-image" alt loading="lazy" width="2568" height="1408"></figure><p>恰好家里的显示器前段时间拿去公司当监控显示器用了，想等着双十二买个新显示器后再开始学。在这个期间又看到了另外一个游戏引擎Godot，一款开源的2d、3d游戏引擎，也看过很多程序员的评测视频，感觉还不错，他们的目标是要成为和unity那样的游戏引擎，而且B站的教学视频也还不错，而且因为是开源的，所以也没有任何费用，游戏的盈利也完全可以归自己所有。</p><p>前几天显示器也到了，该做的准备工作也做好了，所以今天就开始学习第一章吧。</p><hr><p>选了很多教程，最后选了B站<a href="https://space.bilibili.com/7092?ref=1900.live">timothyqiu</a> 前辈的一个平台游戏制作视频为入门，</p><p>本文及后续系列文章只是我学习中个人理解的记录，并不能作为学习参考，我也是个小菜鸡。如果有路过本博客的前辈发现有不对的地方希望指正。</p><p>Godot使用的是类似Python的一种语言，且思路类似以前自己学的C#那种面向对象开发的思维，整体难度不算太高，以前自己学过C#，还算比较好上手。</p><p>游戏引擎： https://godotengine.org </p><p>图片素材： https://www.kenney.nl/assets/simplified-platformer-pack</p><h3 id="-">这次学习所踩的坑：</h3><ol><li>导入素材时需要注意，默认的情况下Godot会开启Filter滤镜优化图片，因为这个游戏是像素风格，所以开启Filter后像素点会模糊，所以需要关闭，并且将导入预设改为2D模式，并设置为默认状态(之前导入的时候没注意这个，每次导入都不对)</li><li>Titlemap可以在一整块集合素材上选取特定区域的图片大小作为贴图。选好一块要点击新建图块按钮才可以重新新建图块，设置碰撞区域同理</li><li>Godot以场景（Scene）归纳对象，不同Scene可以相互引用实力化。</li><li>Titlemap的砖块大小是根据素材尺寸来的，素材越大，尺寸越大（应该是可以压缩的，目前没找到资料）（2020年12月20日：使用 `scale` 可以按比例压缩素材大小）</li></ol><figure class="kg-card kg-image-card"><img src="https://cdn.1900.live/202012/wei-xin-tu-pian-_20201219211210.png" class="kg-image" alt loading="lazy" width="2015" height="807"></figure><h3 id="--1">一章代码部分：</h3><pre><code class="language-GDScript">extends KinematicBody2D

# 设置人物重力
const gravity = 2000 
# 设置人物移动速度
const speed = 350
# 设置人物跳跃高度
const jump_force = 800

# 速度
var velocity = Vector2.ZERO
# 是否处于跳跃状态
var is_jumping = false

onready var animation_palyer = $AnimationPlayer
onready var sprite = $Sprite

# 物理帧处理，delta参数忘记是啥意思了，好像是同步画面的。
func _physics_process(delta):
	# move_and_slide为父类函数，用于sprite移动，第二个参数指定天花板是那个方向
	velocity = move_and_slide(velocity, Vector2.UP)
	# is_on_floor父类函数，如果主体在地板上，则返回true。仅在调用move_and_slide（）时更新。
	if is_on_floor():
		# 如果人物在地板上则允许进行跳操作
		is_jumping = false

# 检测玩家输入（这个函数只在玩家有按下按键时才进行调用）
func _input(event):
	# 如果玩家按下了跳按钮，并且处于可跳状态则让精灵腾空
	if event.is_action_pressed("move_jump") and not is_jumping:
		velocity.y = -jump_force
		# 设置跳跃状态，避免可以进行连跳操作
		is_jumping = true

# 每一帧都会执行这个函数
func _process(delta):
	# 检测用户按钮，get_action_strength返回按下状态，按下为1，没按则0，如果按下right则返回复数，按下left返回正数
	var direction = Input.get_action_strength("move_right") - Input.get_action_strength("move_left")
	# 利用获取到的方向值进行人物左右移动。
	# 移动
	velocity.x = direction * speed
	# 跳跃
	velocity.y += gravity * delta
	
	# 控制sprite动画
	# 如果处于可跳跃状态，则播放跳跃动画
	if is_jumping:
		animation_palyer.play("jump")
	# 空闲状态播放空闲动画
	elif direction == 0:
		animation_palyer.play("idle")
	# 移动状态则播放移动动画
	else:
		animation_palyer.play("walk")
		sprite.flip_h = direction &lt; 0
	
</code></pre><h3 id="--2">最终效果</h3><p>游戏视窗的问题还要去看下设置（已解决，之前用的图块素材太大，导致画到画面上太大，换成小图就和教程一样了）</p><figure class="kg-card kg-image-card"><img src="https://cdn.1900.live/202012/qi-ye-wei-xin-jie-tu-_202012192145461.png" class="kg-image" alt loading="lazy" width="1040" height="639"></figure></article></div><div class="footer"><div><p>
          Built with
          <a target="_blank" href="//gridsome.org" class="link">Gridsome</a>
          &amp; Made with ❤️ by
          <a target="_blank" href="//alex.design" class="link">Alex Brown</a></p></div><div class="footer-links"><a target="_blank" href="/sitemap.xml">Sitemap</a><a target="_blank" href="/feed.xml">RSS Feed</a></div></div></div></main>
    <script>window.__INITIAL_STATE__={"data":{"metadata":{"siteName":"只是玩玩 | JUST FUN","siteDescription":"Hello"},"post":{"id":"63158312cf533d1c2cf29b34","title":"Godot游戏引擎学习 第一课","content":"\u003Cp\u003E因为最近在B站都喜欢看一些独立游戏开发的视频，导致大数据知道我的喜好一直给我推相关视频，经常能刷到一些游戏开发者的开发录像和直播。那段时间经常看\u003Cstrong\u003E\u003Ca href=\"https:\u002F\u002Flive.bilibili.com\u002F7805345?visit_id=aa7b3ruetrs0&ref=1900.live\"\u003ECarotaa666\u003C\u002Fa\u003E \u003C\u002Fstrong\u003E的直播，那几天几乎每天晚上都会上去看下他的进度。当时还问过他那个是什么引擎，因为直播间人少他每次也都和我做了互动。\u003C\u002Fp\u003E\u003Cfigure class=\"kg-card kg-image-card\"\u003E\u003Cimg src=\"https:\u002F\u002Fcdn.1900.live\u002F202012\u002Fimage.png\" class=\"kg-image\" alt loading=\"lazy\" width=\"2560\" height=\"1439\"\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E看了一段时间后知道他用的\u003Ca href=\"https:\u002F\u002Fzh.wikipedia.org\u002Fwiki\u002FGameMaker:_Studio?ref=1900.live\"\u003EGame Maker stuido2\u003C\u002Fa\u003E做的开发，以前也了解过这家公司的\u003Ca href=\"https:\u002F\u002Fzh.wikipedia.org\u002Fwiki\u002FRPG_Maker_VX?ref=1900.live\"\u003ERPG Maker\u003C\u002Fa\u003E，是一家公司的产品，不过GMS2定制性更强，能做出什么游戏完全看程序员水平，不过只能开发2D游戏。但是这个引擎是收费的，不过也不贵，300块左右就能在steam上买到了。当时也看过一些这个引擎的学习资料，当时给我的感觉是没有以前开发C#的时候那种可拖放式的组件，很多功能都能要自己实现（纯个人感受吧）。\u003C\u002Fp\u003E\u003Cfigure class=\"kg-card kg-image-card\"\u003E\u003Cimg src=\"https:\u002F\u002Fcdn.1900.live\u002F202012\u002Fwei-xin-tu-pian-_20201219205619.png\" class=\"kg-image\" alt loading=\"lazy\" width=\"2568\" height=\"1408\"\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E恰好家里的显示器前段时间拿去公司当监控显示器用了，想等着双十二买个新显示器后再开始学。在这个期间又看到了另外一个游戏引擎Godot，一款开源的2d、3d游戏引擎，也看过很多程序员的评测视频，感觉还不错，他们的目标是要成为和unity那样的游戏引擎，而且B站的教学视频也还不错，而且因为是开源的，所以也没有任何费用，游戏的盈利也完全可以归自己所有。\u003C\u002Fp\u003E\u003Cp\u003E前几天显示器也到了，该做的准备工作也做好了，所以今天就开始学习第一章吧。\u003C\u002Fp\u003E\u003Chr\u003E\u003Cp\u003E选了很多教程，最后选了B站\u003Ca href=\"https:\u002F\u002Fspace.bilibili.com\u002F7092?ref=1900.live\"\u003Etimothyqiu\u003C\u002Fa\u003E 前辈的一个平台游戏制作视频为入门，\u003C\u002Fp\u003E\u003Cp\u003E本文及后续系列文章只是我学习中个人理解的记录，并不能作为学习参考，我也是个小菜鸡。如果有路过本博客的前辈发现有不对的地方希望指正。\u003C\u002Fp\u003E\u003Cp\u003EGodot使用的是类似Python的一种语言，且思路类似以前自己学的C#那种面向对象开发的思维，整体难度不算太高，以前自己学过C#，还算比较好上手。\u003C\u002Fp\u003E\u003Cp\u003E游戏引擎： https:\u002F\u002Fgodotengine.org \u003C\u002Fp\u003E\u003Cp\u003E图片素材： https:\u002F\u002Fwww.kenney.nl\u002Fassets\u002Fsimplified-platformer-pack\u003C\u002Fp\u003E\u003Ch3 id=\"-\"\u003E这次学习所踩的坑：\u003C\u002Fh3\u003E\u003Col\u003E\u003Cli\u003E导入素材时需要注意，默认的情况下Godot会开启Filter滤镜优化图片，因为这个游戏是像素风格，所以开启Filter后像素点会模糊，所以需要关闭，并且将导入预设改为2D模式，并设置为默认状态(之前导入的时候没注意这个，每次导入都不对)\u003C\u002Fli\u003E\u003Cli\u003ETitlemap可以在一整块集合素材上选取特定区域的图片大小作为贴图。选好一块要点击新建图块按钮才可以重新新建图块，设置碰撞区域同理\u003C\u002Fli\u003E\u003Cli\u003EGodot以场景（Scene）归纳对象，不同Scene可以相互引用实力化。\u003C\u002Fli\u003E\u003Cli\u003ETitlemap的砖块大小是根据素材尺寸来的，素材越大，尺寸越大（应该是可以压缩的，目前没找到资料）（2020年12月20日：使用 `scale` 可以按比例压缩素材大小）\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cfigure class=\"kg-card kg-image-card\"\u003E\u003Cimg src=\"https:\u002F\u002Fcdn.1900.live\u002F202012\u002Fwei-xin-tu-pian-_20201219211210.png\" class=\"kg-image\" alt loading=\"lazy\" width=\"2015\" height=\"807\"\u003E\u003C\u002Ffigure\u003E\u003Ch3 id=\"--1\"\u003E一章代码部分：\u003C\u002Fh3\u003E\u003Cpre\u003E\u003Ccode class=\"language-GDScript\"\u003Eextends KinematicBody2D\n\n# 设置人物重力\nconst gravity = 2000 \n# 设置人物移动速度\nconst speed = 350\n# 设置人物跳跃高度\nconst jump_force = 800\n\n# 速度\nvar velocity = Vector2.ZERO\n# 是否处于跳跃状态\nvar is_jumping = false\n\nonready var animation_palyer = $AnimationPlayer\nonready var sprite = $Sprite\n\n# 物理帧处理，delta参数忘记是啥意思了，好像是同步画面的。\nfunc _physics_process(delta):\n\t# move_and_slide为父类函数，用于sprite移动，第二个参数指定天花板是那个方向\n\tvelocity = move_and_slide(velocity, Vector2.UP)\n\t# is_on_floor父类函数，如果主体在地板上，则返回true。仅在调用move_and_slide（）时更新。\n\tif is_on_floor():\n\t\t# 如果人物在地板上则允许进行跳操作\n\t\tis_jumping = false\n\n# 检测玩家输入（这个函数只在玩家有按下按键时才进行调用）\nfunc _input(event):\n\t# 如果玩家按下了跳按钮，并且处于可跳状态则让精灵腾空\n\tif event.is_action_pressed(\"move_jump\") and not is_jumping:\n\t\tvelocity.y = -jump_force\n\t\t# 设置跳跃状态，避免可以进行连跳操作\n\t\tis_jumping = true\n\n# 每一帧都会执行这个函数\nfunc _process(delta):\n\t# 检测用户按钮，get_action_strength返回按下状态，按下为1，没按则0，如果按下right则返回复数，按下left返回正数\n\tvar direction = Input.get_action_strength(\"move_right\") - Input.get_action_strength(\"move_left\")\n\t# 利用获取到的方向值进行人物左右移动。\n\t# 移动\n\tvelocity.x = direction * speed\n\t# 跳跃\n\tvelocity.y += gravity * delta\n\t\n\t# 控制sprite动画\n\t# 如果处于可跳跃状态，则播放跳跃动画\n\tif is_jumping:\n\t\tanimation_palyer.play(\"jump\")\n\t# 空闲状态播放空闲动画\n\telif direction == 0:\n\t\tanimation_palyer.play(\"idle\")\n\t# 移动状态则播放移动动画\n\telse:\n\t\tanimation_palyer.play(\"walk\")\n\t\tsprite.flip_h = direction &lt; 0\n\t\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"--2\"\u003E最终效果\u003C\u002Fh3\u003E\u003Cp\u003E游戏视窗的问题还要去看下设置（已解决，之前用的图块素材太大，导致画到画面上太大，换成小图就和教程一样了）\u003C\u002Fp\u003E\u003Cfigure class=\"kg-card kg-image-card\"\u003E\u003Cimg src=\"https:\u002F\u002Fcdn.1900.live\u002F202012\u002Fqi-ye-wei-xin-jie-tu-_202012192145461.png\" class=\"kg-image\" alt loading=\"lazy\" width=\"1040\" height=\"639\"\u003E\u003C\u002Ffigure\u003E","date":"19 December 2020","path":"godotyou-xi-yin-qing-xue-xi-di-yi-ke"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/gridsome-blog/assets/js/app.d2c4c427.js" defer></script><script src="/gridsome-blog/assets/js/page--src--templates--ghost-post-vue.0de93747.js" defer></script>
  </body>
</html>