<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>åªæ˜¯ç©ç© | JUST FUN - åªæ˜¯ç©ç© | JUST FUN</title><meta name="gridsome:hash" content="c29e28eb09cebfa4d5785bfac51829c54a26be66"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Hello"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/gridsome-blog/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/gridsome-blog/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/gridsome-blog/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/gridsome-blog/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/gridsome-blog/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/gridsome-blog/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/gridsome-blog/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/gridsome-blog/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/gridsome-blog/assets/css/0.styles.be694e5c.css" as="style"><link rel="preload" href="/gridsome-blog/assets/js/app.f85ec778.js" as="script"><link rel="preload" href="/gridsome-blog/assets/js/page--src--templates--ghost-post-vue.a078e51b.js" as="script"><link rel="prefetch" href="/gridsome-blog/assets/js/5.fd828304.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--node-modules--gridsome--app--pages--404-vue.5fb9a6b8.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--src--pages--index-vue.fba0d161.js"><link rel="stylesheet" href="/gridsome-blog/assets/css/0.styles.be694e5c.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body  class="darkmode">
    <main role="main" data-server-rendered="true" id="app" class="container"><div class="row"><header class="header"><a href="/gridsome-blog/" class="active"><h1>ğŸ‘¨â€ğŸ’» åªæ˜¯ç©ç© | JUST FUN</h1></a><!----></header><div class="article"><h1 class="article-title">Ubuntuä¸‹å®ç°ç”¨pythonå¼€æœºè‡ªåŠ¨æ›´æ–°å£çº¸ä¸ºbingå£çº¸</h1><p class="article-date"> 29 June 2014 Â· <i> min read</i></p><article><!--kg-card-begin: markdown--><p>å› ä¸ºç”¨çš„WindowsPhoneçš„æ‰‹æœºï¼Œé‡Œé¢æœ‰ä¸€ä¸ªæ‰‹æœºé”å±æ¯å¤©è‡ªåŠ¨æ›´æ–°ä¸ºbingçš„å£çº¸ï¼Œç”¨ç€æŒºå¥½çš„ï¼Œé‚æƒ³åœ¨ubuntuä¸‹å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œæ–­æ–­ç»­ç»­æŠ˜è…¾äº†ä¸€ä¸¤ä¸ªæ˜ŸæœŸï¼Œæƒ­æ„§ã€‚ä¸è¿‡å¥½åœ¨æœ€ç»ˆè¿˜æ˜¯å°†æ‰€æœ‰çš„åŠŸèƒ½å®ç°äº†ã€‚ä¸»è¦çš„åŠŸèƒ½æœ‰å¼€æœºè‡ªåŠ¨æ›´æ–°ï¼Œä»¥åŠæ‰‹åŠ¨åˆ·æ–°ã€‚å›¾ç‰‡ä¼šè‡ªåŠ¨ä¸‹è½½åˆ°ç”¨æˆ·çš„å›¾ç‰‡ç›®å½•ä¸‹é¢ã€‚</p>
<p>ä»£ç å®ç°ï¼š</p>
<blockquote>
<h1 id="codingutf8">-<em>- coding: utf-8 -</em>-</h1>
<h1 id="formimplementationgeneratedfromreadinguifilebackgroundcui">Form implementation generated from reading ui file â€˜backGroundC.uiâ€™</h1>
<h1 id></h1>
<h1 id="createdsatjun211316322014">Created: Sat Jun 21 13:16:32 2014</h1>
<h1 id="bypyqt4uicodegenerator4104">by: PyQt4 UI code generator 4.10.4</h1>
<h1 id></h1>
<h1 id="warningallchangesmadeinthisfilewillbelost">WARNING! All changes made in this file will be lost!</h1>
<p>from PyQt4 import QtCore, QtGui<br>
import urllib<br>
import os<br>
import getpass<br>
from xml.etree import ElementTree as ET</p>
<p>try:<br>
Â Â Â _fromUtf8 = QtCore.QString.fromUtf8<br>
except AttributeError:<br>
Â Â Â def _fromUtf8(s):<br>
Â Â Â Â Â Â Â return s</p>
<p>try:<br>
Â Â Â _encoding = QtGui.QApplication.UnicodeUTF8<br>
Â Â Â def _translate(context, text, disambig):<br>
Â Â Â Â Â Â Â return QtGui.QApplication.translate(context, text, disambig, _encoding)<br>
except AttributeError:<br>
Â Â Â def _translate(context, text, disambig):<br>
Â Â Â Â Â Â Â return QtGui.QApplication.translate(context, text, disambig)</p>
<h1 id="url">å®šä¹‰ä¸»URL</h1>
<p>bingURL = â€˜<a href="http://cn.bing.com/?ref=1900.live">http://cn.bing.com</a>â€™</p>
<h1 id="rssurl">å®šä¹‰RSSURL</h1>
<p>rssURL Â = â€˜<a href="http://www.bing.com/HPImageArchive.aspx?format=xml&idx=0&n=8%E2%80%99&ref=1900.live">http://www.bing.com/HPImageArchive.aspx?format=xml&amp;idx=0&amp;n=8â€™</a></p>
<h1 id="url">å®šä¹‰å›¾ç‰‡åœ°å€URL</h1>
<p>imageURL = â€</p>
<p>â€â€™<br>
é€šè¿‡BINGçš„RSSå¾—åˆ°DOMå¯¹è±¡,è·å–èŠ‚ç‚¹<br>
åæ‹¼æ¥IMAGEè·¯å¾„ä¿å­˜åˆ°æœ¬åœ°ç„¶åè°ƒç”¨<br>
Terminalæ‰§è¡Œè®¾å®šBACKGROUNDçš„å‘½ä»¤<br>
â€â€™<br>
def updateBack():<br>
Â Â Â #è·å–RSSæº<br>
Â Â Â root = ET.fromstring( urllib.urlopen( rssURL ).read( ) )<br>
Â Â Â #æŸ¥åˆ°æœ€æ–°çš„ä¸€å¼ BINGå£çº¸URL<br>
Â Â Â img = root.getiterator (â€˜imageâ€™)[0].find(â€˜urlâ€™).text<br>
Â Â Â #è·å–ç”¨æˆ·åï¼Œç”¨æ¥æ‹¼æ¥å›¾ç‰‡è·¯å¾„<br>
Â Â Â user_name = getpass.getuser()<br>
Â Â Â #è·å–å›¾ç‰‡ç¼–å·ç”¨æ¥å½“ä½œæœ¬åœ°å›¾ç‰‡çš„åç§°<br>
Â Â Â name = root.getiterator (â€˜imageâ€™)[0].find(â€˜fullstartdateâ€™).text<br>
Â Â Â #æ‹¼æ¥å›¾ç‰‡<br>
Â Â Â imageURL = bingURL + img<br>
Â Â Â #ä¸‹è½½å›¾ç‰‡<br>
Â Â Â urllib.urlretrieve(imageURL, râ€™/home/%s/å›¾ç‰‡/%s.jpgâ€™%( user_name, name))<br>
Â Â Â #è®¾ç½®èƒŒæ™¯<br>
Â Â Â os.system(â€˜gsettings set org.gnome.desktop.background picture-uri &quot;file:///home/qing/å›¾ç‰‡/%s.jpg&quot;â€™ % ( name ) )</p>
<p>class Ui_MainWindow(QtGui.QMainWindow):<br>
Â Â Â def setupUi(self, MainWindow):<br>
Â Â Â Â Â Â Â try:<br>
Â Â Â Â Â Â Â Â Â Â Â #æµ‹è¯•æ˜¯å¦æ˜¯å¼€æœºå¯åŠ¨ï¼Œæ˜¯çš„è¯ç›´æ¥æ›´æ–°èƒŒæ™¯å®Œæˆåé€€å‡ºç¨‹åº<br>
Â Â Â Â Â Â Â Â Â Â Â sys.argv[1]<br>
Â Â Â Â Â Â Â Â Â Â Â updateBack()<br>
Â Â Â Â Â Â Â Â Â Â Â sys.exit()</p>
<p>except Exception, e:<br>
Â Â Â Â Â Â Â Â Â Â Â #å¦åˆ™åˆ¤å®šä¸ºæ‰‹åŠ¨å¯åŠ¨<br>
Â Â Â Â Â Â Â Â Â Â Â MainWindow.setObjectName(_fromUtf8(&quot;MainWindow&quot;))<br>
Â Â Â Â Â Â Â Â Â Â Â MainWindow.resize(297, 130)<br>
Â Â Â Â Â Â Â Â Â Â Â self.centralwidget = QtGui.QWidget(MainWindow)<br>
Â Â Â Â Â Â Â Â Â Â Â self.centralwidget.setObjectName(_fromUtf8(&quot;centralwidget&quot;))<br>
Â Â Â Â Â Â Â Â Â Â Â self.pushButton = QtGui.QPushButton(self.centralwidget)<br>
Â Â Â Â Â Â Â Â Â Â Â self.pushButton.setGeometry(QtCore.QRect(10, 10, 281, 41))<br>
Â Â Â Â Â Â Â Â Â Â Â self.pushButton.setContextMenuPolicy(QtCore.Qt.NoContextMenu)<br>
Â Â Â Â Â Â Â Â Â Â Â self.pushButton.setObjectName(_fromUtf8(&quot;pushButton&quot;))<br>
Â Â Â Â Â Â Â Â Â Â Â self.pushButton2= QtGui.QPushButton(self.centralwidget)<br>
Â Â Â Â Â Â Â Â Â Â Â self.pushButton2.setGeometry(QtCore.QRect(10, 60, 281, 41))<br>
Â Â Â Â Â Â Â Â Â Â Â self.pushButton2.setContextMenuPolicy(QtCore.Qt.NoContextMenu)<br>
Â Â Â Â Â Â Â Â Â Â Â self.pushButton2.setObjectName(_fromUtf8(&quot;pushButton2&quot;))<br>
Â Â Â Â Â Â Â Â Â Â Â MainWindow.setCentralWidget(self.centralwidget)<br>
Â Â Â Â Â Â Â Â Â Â Â self.statusbar = QtGui.QStatusBar(MainWindow)<br>
Â Â Â Â Â Â Â Â Â Â Â self.statusbar.setObjectName(_fromUtf8(&quot;statusbar&quot;))<br>
Â Â Â Â Â Â Â Â Â Â Â MainWindow.setStatusBar(self.statusbar)<br>
Â Â Â Â Â Â Â Â Â Â Â self.retranslateUi(MainWindow)<br>
Â Â Â Â Â Â Â Â Â Â Â QtCore.QMetaObject.connectSlotsByName(MainWindow)<br>
Â Â Â Â Â Â Â Â Â Â Â #é“¾æ¥ç‚¹å‡»äº‹ä»¶<br>
Â Â Â Â Â Â Â Â Â Â Â self.connect( self.pushButton, QtCore.SIGNAL( â€˜clicked()â€™ ), self.OnButtonFrush )<br>
Â Â Â Â Â Â Â Â Â Â Â self.connect( self.pushButton2, QtCore.SIGNAL( â€˜clicked()â€™ ), self.OnButtonAutoFrush )</p>
<p>#ç‚¹å‡»è‡ªåŠ¨æ›´æ–°æŒ‰é’®äº‹ä»¶<br>
Â Â Â def OnButtonAutoFrush( self ):<br>
Â Â Â Â Â Â Â try:<br>
Â Â Â Â Â Â Â Â Â Â Â #åˆ›å»ºdesktopæ–‡ä»¶æ”¾åœ¨å¯åŠ¨æ–‡ä»¶å¤¹ä¸‹<br>
Â Â Â Â Â Â Â Â Â Â Â file = open(&quot;/home/%s/.config/autostart/autobing.desktop&quot; % (getpass.getuser()) , â€˜wâ€™)<br>
Â Â Â Â Â Â Â Â Â Â Â desktop = Â &quot;&quot;&quot;[Desktop Entry]<br>
Version=1.0<br>
Encoding=UTF-8<br>
Name=AutoBing<br>
Type=Application<br>
Exec=python &quot;%s/%s&quot; one<br>
Terminal=false<br>
Comment=auto change systembackground from bingimage<br>
NoDisplay=false<br>
Categories=Utility; &quot;&quot;&quot; % (os.getcwd() Â , os.path.basename(<strong>file</strong>))<br>
Â Â Â Â Â Â Â Â Â Â Â file.write(desktop)<br>
Â Â Â Â Â Â Â Â Â Â Â file.close()<br>
Â Â Â Â Â Â Â Â Â Â Â QtGui.QMessageBox.information( self, uâ€™æç¤ºâ€™, uâ€™è‡ªåŠ¨æ›´æ–°è®¾ç½®æˆåŠŸ\nå¦‚æœç§»åŠ¨äº†ç¨‹åºè·¯å¾„è¯·é‡æ–°è®¾ç½®â€™)</p>
<p>except Exception, e:<br>
Â Â Â Â Â Â Â Â Â Â Â QtGui.QMessageBox.information( self, uâ€™æç¤ºâ€™, uâ€â€™è®¾ç½®è‡ªåŠ¨æ›´æ–°å¤±è´¥â€â€™)<br>
Â Â Â Â Â Â Â Â Â Â Â raise e</p>
<p>#ç‚¹å‡»åˆ·æ–°æ¡Œé¢å£çº¸<br>
Â Â Â def OnButtonFrush(self):<br>
Â Â Â Â Â Â Â try:<br>
Â Â Â Â Â Â Â Â Â Â Â updateBack()<br>
Â Â Â Â Â Â Â Â Â Â Â QtGui.QMessageBox.information( self, uâ€™æç¤ºâ€™, uâ€â€™BINGå£çº¸æ›´æ–°æˆåŠŸâ€â€™)<br>
Â Â Â Â Â Â Â Â Â Â Â pass<br>
Â Â Â Â Â Â Â except Exception, e:<br>
Â Â Â Â Â Â Â Â Â Â Â QtGui.QMessageBox.information( self, uâ€™æç¤ºâ€™, uâ€â€™æ›´æ–°å¤±è´¥â€â€™)<br>
Â Â Â Â Â Â Â Â Â Â Â raise</p>
<p>def retranslateUi(self, MainWindow):<br>
Â Â Â Â Â Â Â MainWindow.setWindowTitle(_translate(&quot;MainWindow&quot;, &quot;BINGå£çº¸è‡ªåŠ¨æ›´æ¢&quot;, None))<br>
Â Â Â Â Â Â Â self.pushButton.setText(_translate(&quot;MainWindow&quot;, &quot;æ‰‹åŠ¨åˆ·æ–°&quot;, â€˜pushButtonâ€™))<br>
Â Â Â Â Â Â Â self.pushButton2.setText(_translate(&quot;MainWindow&quot;, &quot;ç™»é™†è‡ªåŠ¨åˆ·æ–°&quot;, â€˜pushButton2â€™))</p>
<p>class BingWindow(QtGui.QMainWindow): Â <br>
Â Â Â #åˆå§‹åŒ–ç•Œé¢<br>
Â Â Â def <strong>init</strong>(self,parent=None): Â <br>
Â Â Â Â Â Â Â QtGui.QWidget.<strong>init</strong>(self,parent) Â <br>
Â Â Â Â Â Â Â self.madWindow()</p>
<p>def madWindow(self): Â <br>
Â Â Â Â Â Â Â self.ui = Ui_MainWindow() Â <br>
Â Â Â Â Â Â Â self.ui.setupUi(self)</p>
<p>import sys<br>
app = QtGui.QApplication(sys.argv) Â <br>
myqq = BingWindow() Â <br>
myqq.show()<br>
sys.exit(app.exec_())</p>
</blockquote>
<!--kg-card-end: markdown--></article></div><div class="footer"><div><p>
          Built with
          <a target="_blank" href="//gridsome.org" class="link">Gridsome</a>
          &amp; Made with â¤ï¸ by
          <a target="_blank" href="//alex.design" class="link">Alex Brown</a></p></div><div class="footer-links"><a target="_blank" href="/sitemap.xml">Sitemap</a><a target="_blank" href="/feed.xml">RSS Feed</a></div></div></div></main>
    <script>window.__INITIAL_STATE__={"data":{"metadata":{"siteName":"åªæ˜¯ç©ç© | JUST FUN","siteDescription":"Hello"},"post":{"id":"63158312cf533d1c2cf29a69","title":"Ubuntuä¸‹å®ç°ç”¨pythonå¼€æœºè‡ªåŠ¨æ›´æ–°å£çº¸ä¸ºbingå£çº¸","content":"\u003C!--kg-card-begin: markdown--\u003E\u003Cp\u003Eå› ä¸ºç”¨çš„WindowsPhoneçš„æ‰‹æœºï¼Œé‡Œé¢æœ‰ä¸€ä¸ªæ‰‹æœºé”å±æ¯å¤©è‡ªåŠ¨æ›´æ–°ä¸ºbingçš„å£çº¸ï¼Œç”¨ç€æŒºå¥½çš„ï¼Œé‚æƒ³åœ¨ubuntuä¸‹å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œæ–­æ–­ç»­ç»­æŠ˜è…¾äº†ä¸€ä¸¤ä¸ªæ˜ŸæœŸï¼Œæƒ­æ„§ã€‚ä¸è¿‡å¥½åœ¨æœ€ç»ˆè¿˜æ˜¯å°†æ‰€æœ‰çš„åŠŸèƒ½å®ç°äº†ã€‚ä¸»è¦çš„åŠŸèƒ½æœ‰å¼€æœºè‡ªåŠ¨æ›´æ–°ï¼Œä»¥åŠæ‰‹åŠ¨åˆ·æ–°ã€‚å›¾ç‰‡ä¼šè‡ªåŠ¨ä¸‹è½½åˆ°ç”¨æˆ·çš„å›¾ç‰‡ç›®å½•ä¸‹é¢ã€‚\u003C\u002Fp\u003E\n\u003Cp\u003Eä»£ç å®ç°ï¼š\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Ch1 id=\"codingutf8\"\u003E-\u003Cem\u003E- coding: utf-8 -\u003C\u002Fem\u003E-\u003C\u002Fh1\u003E\n\u003Ch1 id=\"formimplementationgeneratedfromreadinguifilebackgroundcui\"\u003EForm implementation generated from reading ui file â€˜backGroundC.uiâ€™\u003C\u002Fh1\u003E\n\u003Ch1 id\u003E\u003C\u002Fh1\u003E\n\u003Ch1 id=\"createdsatjun211316322014\"\u003ECreated: Sat Jun 21 13:16:32 2014\u003C\u002Fh1\u003E\n\u003Ch1 id=\"bypyqt4uicodegenerator4104\"\u003Eby: PyQt4 UI code generator 4.10.4\u003C\u002Fh1\u003E\n\u003Ch1 id\u003E\u003C\u002Fh1\u003E\n\u003Ch1 id=\"warningallchangesmadeinthisfilewillbelost\"\u003EWARNING! All changes made in this file will be lost!\u003C\u002Fh1\u003E\n\u003Cp\u003Efrom PyQt4 import QtCore, QtGui\u003Cbr\u003E\nimport urllib\u003Cbr\u003E\nimport os\u003Cbr\u003E\nimport getpass\u003Cbr\u003E\nfrom xml.etree import ElementTree as ET\u003C\u002Fp\u003E\n\u003Cp\u003Etry:\u003Cbr\u003E\nÂ Â Â _fromUtf8 = QtCore.QString.fromUtf8\u003Cbr\u003E\nexcept AttributeError:\u003Cbr\u003E\nÂ Â Â def _fromUtf8(s):\u003Cbr\u003E\nÂ Â Â Â Â Â Â return s\u003C\u002Fp\u003E\n\u003Cp\u003Etry:\u003Cbr\u003E\nÂ Â Â _encoding = QtGui.QApplication.UnicodeUTF8\u003Cbr\u003E\nÂ Â Â def _translate(context, text, disambig):\u003Cbr\u003E\nÂ Â Â Â Â Â Â return QtGui.QApplication.translate(context, text, disambig, _encoding)\u003Cbr\u003E\nexcept AttributeError:\u003Cbr\u003E\nÂ Â Â def _translate(context, text, disambig):\u003Cbr\u003E\nÂ Â Â Â Â Â Â return QtGui.QApplication.translate(context, text, disambig)\u003C\u002Fp\u003E\n\u003Ch1 id=\"url\"\u003Eå®šä¹‰ä¸»URL\u003C\u002Fh1\u003E\n\u003Cp\u003EbingURL = â€˜\u003Ca href=\"http:\u002F\u002Fcn.bing.com\u002F?ref=1900.live\"\u003Ehttp:\u002F\u002Fcn.bing.com\u003C\u002Fa\u003Eâ€™\u003C\u002Fp\u003E\n\u003Ch1 id=\"rssurl\"\u003Eå®šä¹‰RSSURL\u003C\u002Fh1\u003E\n\u003Cp\u003ErssURL Â = â€˜\u003Ca href=\"http:\u002F\u002Fwww.bing.com\u002FHPImageArchive.aspx?format=xml&idx=0&n=8%E2%80%99&ref=1900.live\"\u003Ehttp:\u002F\u002Fwww.bing.com\u002FHPImageArchive.aspx?format=xml&amp;idx=0&amp;n=8â€™\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch1 id=\"url\"\u003Eå®šä¹‰å›¾ç‰‡åœ°å€URL\u003C\u002Fh1\u003E\n\u003Cp\u003EimageURL = â€\u003C\u002Fp\u003E\n\u003Cp\u003Eâ€â€™\u003Cbr\u003E\né€šè¿‡BINGçš„RSSå¾—åˆ°DOMå¯¹è±¡,è·å–èŠ‚ç‚¹\u003Cbr\u003E\nåæ‹¼æ¥IMAGEè·¯å¾„ä¿å­˜åˆ°æœ¬åœ°ç„¶åè°ƒç”¨\u003Cbr\u003E\nTerminalæ‰§è¡Œè®¾å®šBACKGROUNDçš„å‘½ä»¤\u003Cbr\u003E\nâ€â€™\u003Cbr\u003E\ndef updateBack():\u003Cbr\u003E\nÂ Â Â #è·å–RSSæº\u003Cbr\u003E\nÂ Â Â root = ET.fromstring( urllib.urlopen( rssURL ).read( ) )\u003Cbr\u003E\nÂ Â Â #æŸ¥åˆ°æœ€æ–°çš„ä¸€å¼ BINGå£çº¸URL\u003Cbr\u003E\nÂ Â Â img = root.getiterator (â€˜imageâ€™)[0].find(â€˜urlâ€™).text\u003Cbr\u003E\nÂ Â Â #è·å–ç”¨æˆ·åï¼Œç”¨æ¥æ‹¼æ¥å›¾ç‰‡è·¯å¾„\u003Cbr\u003E\nÂ Â Â user_name = getpass.getuser()\u003Cbr\u003E\nÂ Â Â #è·å–å›¾ç‰‡ç¼–å·ç”¨æ¥å½“ä½œæœ¬åœ°å›¾ç‰‡çš„åç§°\u003Cbr\u003E\nÂ Â Â name = root.getiterator (â€˜imageâ€™)[0].find(â€˜fullstartdateâ€™).text\u003Cbr\u003E\nÂ Â Â #æ‹¼æ¥å›¾ç‰‡\u003Cbr\u003E\nÂ Â Â imageURL = bingURL + img\u003Cbr\u003E\nÂ Â Â #ä¸‹è½½å›¾ç‰‡\u003Cbr\u003E\nÂ Â Â urllib.urlretrieve(imageURL, râ€™\u002Fhome\u002F%s\u002Få›¾ç‰‡\u002F%s.jpgâ€™%( user_name, name))\u003Cbr\u003E\nÂ Â Â #è®¾ç½®èƒŒæ™¯\u003Cbr\u003E\nÂ Â Â os.system(â€˜gsettings set org.gnome.desktop.background picture-uri &quot;file:\u002F\u002F\u002Fhome\u002Fqing\u002Få›¾ç‰‡\u002F%s.jpg&quot;â€™ % ( name ) )\u003C\u002Fp\u003E\n\u003Cp\u003Eclass Ui_MainWindow(QtGui.QMainWindow):\u003Cbr\u003E\nÂ Â Â def setupUi(self, MainWindow):\u003Cbr\u003E\nÂ Â Â Â Â Â Â try:\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â #æµ‹è¯•æ˜¯å¦æ˜¯å¼€æœºå¯åŠ¨ï¼Œæ˜¯çš„è¯ç›´æ¥æ›´æ–°èƒŒæ™¯å®Œæˆåé€€å‡ºç¨‹åº\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â sys.argv[1]\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â updateBack()\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â sys.exit()\u003C\u002Fp\u003E\n\u003Cp\u003Eexcept Exception, e:\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â #å¦åˆ™åˆ¤å®šä¸ºæ‰‹åŠ¨å¯åŠ¨\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â MainWindow.setObjectName(_fromUtf8(&quot;MainWindow&quot;))\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â MainWindow.resize(297, 130)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.centralwidget = QtGui.QWidget(MainWindow)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.centralwidget.setObjectName(_fromUtf8(&quot;centralwidget&quot;))\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.pushButton = QtGui.QPushButton(self.centralwidget)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.pushButton.setGeometry(QtCore.QRect(10, 10, 281, 41))\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.pushButton.setContextMenuPolicy(QtCore.Qt.NoContextMenu)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.pushButton.setObjectName(_fromUtf8(&quot;pushButton&quot;))\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.pushButton2= QtGui.QPushButton(self.centralwidget)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.pushButton2.setGeometry(QtCore.QRect(10, 60, 281, 41))\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.pushButton2.setContextMenuPolicy(QtCore.Qt.NoContextMenu)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.pushButton2.setObjectName(_fromUtf8(&quot;pushButton2&quot;))\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â MainWindow.setCentralWidget(self.centralwidget)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.statusbar = QtGui.QStatusBar(MainWindow)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.statusbar.setObjectName(_fromUtf8(&quot;statusbar&quot;))\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â MainWindow.setStatusBar(self.statusbar)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.retranslateUi(MainWindow)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â QtCore.QMetaObject.connectSlotsByName(MainWindow)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â #é“¾æ¥ç‚¹å‡»äº‹ä»¶\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.connect( self.pushButton, QtCore.SIGNAL( â€˜clicked()â€™ ), self.OnButtonFrush )\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â self.connect( self.pushButton2, QtCore.SIGNAL( â€˜clicked()â€™ ), self.OnButtonAutoFrush )\u003C\u002Fp\u003E\n\u003Cp\u003E#ç‚¹å‡»è‡ªåŠ¨æ›´æ–°æŒ‰é’®äº‹ä»¶\u003Cbr\u003E\nÂ Â Â def OnButtonAutoFrush( self ):\u003Cbr\u003E\nÂ Â Â Â Â Â Â try:\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â #åˆ›å»ºdesktopæ–‡ä»¶æ”¾åœ¨å¯åŠ¨æ–‡ä»¶å¤¹ä¸‹\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â file = open(&quot;\u002Fhome\u002F%s\u002F.config\u002Fautostart\u002Fautobing.desktop&quot; % (getpass.getuser()) , â€˜wâ€™)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â desktop = Â &quot;&quot;&quot;[Desktop Entry]\u003Cbr\u003E\nVersion=1.0\u003Cbr\u003E\nEncoding=UTF-8\u003Cbr\u003E\nName=AutoBing\u003Cbr\u003E\nType=Application\u003Cbr\u003E\nExec=python &quot;%s\u002F%s&quot; one\u003Cbr\u003E\nTerminal=false\u003Cbr\u003E\nComment=auto change systembackground from bingimage\u003Cbr\u003E\nNoDisplay=false\u003Cbr\u003E\nCategories=Utility; &quot;&quot;&quot; % (os.getcwd() Â , os.path.basename(\u003Cstrong\u003Efile\u003C\u002Fstrong\u003E))\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â file.write(desktop)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â file.close()\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â QtGui.QMessageBox.information( self, uâ€™æç¤ºâ€™, uâ€™è‡ªåŠ¨æ›´æ–°è®¾ç½®æˆåŠŸ\\nå¦‚æœç§»åŠ¨äº†ç¨‹åºè·¯å¾„è¯·é‡æ–°è®¾ç½®â€™)\u003C\u002Fp\u003E\n\u003Cp\u003Eexcept Exception, e:\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â QtGui.QMessageBox.information( self, uâ€™æç¤ºâ€™, uâ€â€™è®¾ç½®è‡ªåŠ¨æ›´æ–°å¤±è´¥â€â€™)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â raise e\u003C\u002Fp\u003E\n\u003Cp\u003E#ç‚¹å‡»åˆ·æ–°æ¡Œé¢å£çº¸\u003Cbr\u003E\nÂ Â Â def OnButtonFrush(self):\u003Cbr\u003E\nÂ Â Â Â Â Â Â try:\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â updateBack()\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â QtGui.QMessageBox.information( self, uâ€™æç¤ºâ€™, uâ€â€™BINGå£çº¸æ›´æ–°æˆåŠŸâ€â€™)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â pass\u003Cbr\u003E\nÂ Â Â Â Â Â Â except Exception, e:\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â QtGui.QMessageBox.information( self, uâ€™æç¤ºâ€™, uâ€â€™æ›´æ–°å¤±è´¥â€â€™)\u003Cbr\u003E\nÂ Â Â Â Â Â Â Â Â Â Â raise\u003C\u002Fp\u003E\n\u003Cp\u003Edef retranslateUi(self, MainWindow):\u003Cbr\u003E\nÂ Â Â Â Â Â Â MainWindow.setWindowTitle(_translate(&quot;MainWindow&quot;, &quot;BINGå£çº¸è‡ªåŠ¨æ›´æ¢&quot;, None))\u003Cbr\u003E\nÂ Â Â Â Â Â Â self.pushButton.setText(_translate(&quot;MainWindow&quot;, &quot;æ‰‹åŠ¨åˆ·æ–°&quot;, â€˜pushButtonâ€™))\u003Cbr\u003E\nÂ Â Â Â Â Â Â self.pushButton2.setText(_translate(&quot;MainWindow&quot;, &quot;ç™»é™†è‡ªåŠ¨åˆ·æ–°&quot;, â€˜pushButton2â€™))\u003C\u002Fp\u003E\n\u003Cp\u003Eclass BingWindow(QtGui.QMainWindow): Â \u003Cbr\u003E\nÂ Â Â #åˆå§‹åŒ–ç•Œé¢\u003Cbr\u003E\nÂ Â Â def \u003Cstrong\u003Einit\u003C\u002Fstrong\u003E(self,parent=None): Â \u003Cbr\u003E\nÂ Â Â Â Â Â Â QtGui.QWidget.\u003Cstrong\u003Einit\u003C\u002Fstrong\u003E(self,parent) Â \u003Cbr\u003E\nÂ Â Â Â Â Â Â self.madWindow()\u003C\u002Fp\u003E\n\u003Cp\u003Edef madWindow(self): Â \u003Cbr\u003E\nÂ Â Â Â Â Â Â self.ui = Ui_MainWindow() Â \u003Cbr\u003E\nÂ Â Â Â Â Â Â self.ui.setupUi(self)\u003C\u002Fp\u003E\n\u003Cp\u003Eimport sys\u003Cbr\u003E\napp = QtGui.QApplication(sys.argv) Â \u003Cbr\u003E\nmyqq = BingWindow() Â \u003Cbr\u003E\nmyqq.show()\u003Cbr\u003E\nsys.exit(app.exec_())\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003C!--kg-card-end: markdown--\u003E","date":"29 June 2014","path":"ubuntuxia-shi-xian-yong-pythonkai-ji-zi-dong-geng-xin-bi-zhi-wei-bingbi-zhi"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/gridsome-blog/assets/js/app.f85ec778.js" defer></script><script src="/gridsome-blog/assets/js/page--src--templates--ghost-post-vue.a078e51b.js" defer></script>
  </body>
</html>