<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>只是玩玩 | JUST FUN - 只是玩玩 | JUST FUN</title><meta name="gridsome:hash" content="79ad4906a93b028ce0cc44a61d77049cbbf31c8d"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Hello"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/gridsome-blog/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/gridsome-blog/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/gridsome-blog/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/gridsome-blog/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/gridsome-blog/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/gridsome-blog/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/gridsome-blog/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/gridsome-blog/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/gridsome-blog/assets/css/0.styles.be694e5c.css" as="style"><link rel="preload" href="/gridsome-blog/assets/js/app.32f9dac0.js" as="script"><link rel="preload" href="/gridsome-blog/assets/js/page--src--templates--ghost-post-vue.0de93747.js" as="script"><link rel="prefetch" href="/gridsome-blog/assets/js/6.4b802b1d.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--node-modules--gridsome--app--pages--404-vue.5fb9a6b8.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--src--pages--index-copy-vue.caed7301.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--src--pages--index-vue.eb311bfb.js"><link rel="stylesheet" href="/gridsome-blog/assets/css/0.styles.be694e5c.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body  class="darkmode">
    <main role="main" data-server-rendered="true" id="app" class="container"><div class="row"><header class="header"><a href="/gridsome-blog/" class="active"><h1>👨‍💻 只是玩玩 | JUST FUN</h1></a><!----></header><div class="article"><h1 class="article-title">Windows下完美的Terminal：Powershell</h1><p class="article-date"> 11 December 2022 · <i> min read</i></p><article><p>以前用命令行工具一直都是全手打，没用过提示之类的，但是看到一些大佬的视频里用终端都带提示、历史命令，那个时候就很好奇，不过一直没学习怎么配置。</p><p>前些日志在折腾Python环境的时候偶然接触了Windows下的跨平台命令行工具：<a href="https://github.com/PowerShell/PowerShell?ref=1900.live">Powershell</a>（这个不是Windows自带的那个Windows Powershell），这个Powershell项目网站上指出的两者区别。</p><blockquote>Windows PowerShell vs. PowerShell Core<br>Although this repository started as a fork of the Windows PowerShell code base, changes made in this repository do not make their way back to Windows PowerShell 5.1 automatically. This also means that <a href="https://github.com/PowerShell/PowerShell/issues?ref=1900.live">issues tracked here</a> are only for PowerShell Core 6 and higher. Windows PowerShell specific issues should be reported with the <a href="https://support.microsoft.com/windows/send-feedback-to-microsoft-with-the-feedback-hub-app-f59187f8-8739-22d6-ba93-f66612949332?ref=1900.live" rel="nofollow">Feedback Hub app</a>, by choosing "Apps &gt; PowerShell" in category.</blockquote><p>用上了这个工具后我又偶然了解到 <a href="https://github.com/JanDeDobbeleer/oh-my-posh?ref=1900.live">oh-my-posh</a> ，了解了Trminal的美化，然后又偶然间又接触到了命令行提示的配置，配置完后才发现配置好的Trminal和没配置的简直是一个天上一个地上。</p><h2 id="%E4%B8%80%E3%80%81%E5%AE%89%E8%A3%85powershell">一、安装Powershell</h2><p>安装方式又很多种，我这里用的官方推荐的winget安装方式<sup><a>[2]</a></sup>：</p><pre><code>winget search Microsoft.PowerShell
winget install --id Microsoft.Powershell --source winget
</code></pre><h2 id="%E4%BA%8C%E3%80%81%E5%AE%89%E8%A3%85oh-my-posh">二、安装oh-my-posh</h2><p>windows11的话直接用 <code>Winget</code> 执行安装命令<sup><a>[1]</a></sup>就可以了，还是相当方便的</p><pre><code class="language-shell">winget install JanDeDobbeleer.OhMyPosh -s winget
</code></pre><h2 id="%E4%B8%89%E3%80%81%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">三、修改配置文件</h2><p>使用 <code>notepad $profile</code> 打开配置文件，在开头部分增加以下代码，其中 <code>catppuccin_frappe.omp.json</code> 为主题名字，具体可以用的主题在<a href="https://ohmyposh.dev/docs/themes?ref=1900.live">这个网站</a>上可以预览：</p><pre><code class="language-shell">#配置oh-my-posh自动加载，并且设置主题为 catppuccin_frappe 
oh-my-posh init pwsh --config "$env:POSH_THEMES_PATH\catppuccin_frappe.omp.json" | Invoke-Expression

# 下面是配置自动完成和自动提示
# Shows navigable menu of all options when hitting Tab
Set-PSReadlineKeyHandler -Key Tab -Function MenuComplete
# Autocompletion for arrow keys
Set-PSReadlineKeyHandler -Key UpArrow -Function HistorySearchBackward
Set-PSReadlineKeyHandler -Key DownArrow -Function HistorySearchForward
# auto suggestions
Import-Module PSReadLine
Set-PSReadLineOption -PredictionSource History

</code></pre><hr><h2 id="%E5%BC%95%E7%94%A8">引用</h2><p><a href="https://ohmyposh.dev/docs/installation/windows?ref=1900.live#installation">Windows | Oh My Posh</a> <a>↩︎</a></p><p><a href="https://learn.microsoft.com/zh-cn/powershell/scripting/install/installing-powershell-on-windows?view=powershell-7.3&ref=1900.live#install-powershell-using-winget-recommended">在 Windows 上安装 PowerShell - PowerShell | Microsoft Learn</a> <a>↩︎</a></p></article></div><div class="footer"><div><p>
          Built with
          <a target="_blank" href="//gridsome.org" class="link">Gridsome</a>
          &amp; Made with ❤️ by
          <a target="_blank" href="//alex.design" class="link">Alex Brown</a></p></div><div class="footer-links"><a target="_blank" href="/sitemap.xml">Sitemap</a><a target="_blank" href="/feed.xml">RSS Feed</a></div></div></div></main>
    <script>window.__INITIAL_STATE__={"data":{"metadata":{"siteName":"只是玩玩 | JUST FUN","siteDescription":"Hello"},"post":{"id":"639595c25d48720001f93858","title":"Windows下完美的Terminal：Powershell","content":"\u003Cp\u003E以前用命令行工具一直都是全手打，没用过提示之类的，但是看到一些大佬的视频里用终端都带提示、历史命令，那个时候就很好奇，不过一直没学习怎么配置。\u003C\u002Fp\u003E\u003Cp\u003E前些日志在折腾Python环境的时候偶然接触了Windows下的跨平台命令行工具：\u003Ca href=\"https:\u002F\u002Fgithub.com\u002FPowerShell\u002FPowerShell?ref=1900.live\"\u003EPowershell\u003C\u002Fa\u003E（这个不是Windows自带的那个Windows Powershell），这个Powershell项目网站上指出的两者区别。\u003C\u002Fp\u003E\u003Cblockquote\u003EWindows PowerShell vs. PowerShell Core\u003Cbr\u003EAlthough this repository started as a fork of the Windows PowerShell code base, changes made in this repository do not make their way back to Windows PowerShell 5.1 automatically. This also means that \u003Ca href=\"https:\u002F\u002Fgithub.com\u002FPowerShell\u002FPowerShell\u002Fissues?ref=1900.live\"\u003Eissues tracked here\u003C\u002Fa\u003E are only for PowerShell Core 6 and higher. Windows PowerShell specific issues should be reported with the \u003Ca href=\"https:\u002F\u002Fsupport.microsoft.com\u002Fwindows\u002Fsend-feedback-to-microsoft-with-the-feedback-hub-app-f59187f8-8739-22d6-ba93-f66612949332?ref=1900.live\" rel=\"nofollow\"\u003EFeedback Hub app\u003C\u002Fa\u003E, by choosing \"Apps &gt; PowerShell\" in category.\u003C\u002Fblockquote\u003E\u003Cp\u003E用上了这个工具后我又偶然了解到 \u003Ca href=\"https:\u002F\u002Fgithub.com\u002FJanDeDobbeleer\u002Foh-my-posh?ref=1900.live\"\u003Eoh-my-posh\u003C\u002Fa\u003E ，了解了Trminal的美化，然后又偶然间又接触到了命令行提示的配置，配置完后才发现配置好的Trminal和没配置的简直是一个天上一个地上。\u003C\u002Fp\u003E\u003Ch2 id=\"%E4%B8%80%E3%80%81%E5%AE%89%E8%A3%85powershell\"\u003E一、安装Powershell\u003C\u002Fh2\u003E\u003Cp\u003E安装方式又很多种，我这里用的官方推荐的winget安装方式\u003Csup\u003E\u003Ca\u003E[2]\u003C\u002Fa\u003E\u003C\u002Fsup\u003E：\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003Ewinget search Microsoft.PowerShell\nwinget install --id Microsoft.Powershell --source winget\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"%E4%BA%8C%E3%80%81%E5%AE%89%E8%A3%85oh-my-posh\"\u003E二、安装oh-my-posh\u003C\u002Fh2\u003E\u003Cp\u003Ewindows11的话直接用 \u003Ccode\u003EWinget\u003C\u002Fcode\u003E 执行安装命令\u003Csup\u003E\u003Ca\u003E[1]\u003C\u002Fa\u003E\u003C\u002Fsup\u003E就可以了，还是相当方便的\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"language-shell\"\u003Ewinget install JanDeDobbeleer.OhMyPosh -s winget\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"%E4%B8%89%E3%80%81%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"\u003E三、修改配置文件\u003C\u002Fh2\u003E\u003Cp\u003E使用 \u003Ccode\u003Enotepad $profile\u003C\u002Fcode\u003E 打开配置文件，在开头部分增加以下代码，其中 \u003Ccode\u003Ecatppuccin_frappe.omp.json\u003C\u002Fcode\u003E 为主题名字，具体可以用的主题在\u003Ca href=\"https:\u002F\u002Fohmyposh.dev\u002Fdocs\u002Fthemes?ref=1900.live\"\u003E这个网站\u003C\u002Fa\u003E上可以预览：\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"language-shell\"\u003E#配置oh-my-posh自动加载，并且设置主题为 catppuccin_frappe \noh-my-posh init pwsh --config \"$env:POSH_THEMES_PATH\\catppuccin_frappe.omp.json\" | Invoke-Expression\n\n# 下面是配置自动完成和自动提示\n# Shows navigable menu of all options when hitting Tab\nSet-PSReadlineKeyHandler -Key Tab -Function MenuComplete\n# Autocompletion for arrow keys\nSet-PSReadlineKeyHandler -Key UpArrow -Function HistorySearchBackward\nSet-PSReadlineKeyHandler -Key DownArrow -Function HistorySearchForward\n# auto suggestions\nImport-Module PSReadLine\nSet-PSReadLineOption -PredictionSource History\n\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Chr\u003E\u003Ch2 id=\"%E5%BC%95%E7%94%A8\"\u003E引用\u003C\u002Fh2\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fohmyposh.dev\u002Fdocs\u002Finstallation\u002Fwindows?ref=1900.live#installation\"\u003EWindows | Oh My Posh\u003C\u002Fa\u003E \u003Ca\u003E↩︎\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Flearn.microsoft.com\u002Fzh-cn\u002Fpowershell\u002Fscripting\u002Finstall\u002Finstalling-powershell-on-windows?view=powershell-7.3&ref=1900.live#install-powershell-using-winget-recommended\"\u003E在 Windows 上安装 PowerShell - PowerShell | Microsoft Learn\u003C\u002Fa\u003E \u003Ca\u003E↩︎\u003C\u002Fa\u003E\u003C\u002Fp\u003E","date":"11 December 2022","path":"under-windows-perfect-terminal-powershell"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/gridsome-blog/assets/js/app.32f9dac0.js" defer></script><script src="/gridsome-blog/assets/js/page--src--templates--ghost-post-vue.0de93747.js" defer></script>
  </body>
</html>