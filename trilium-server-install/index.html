<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>åªæ˜¯ç©ç© | JUST FUN - åªæ˜¯ç©ç© | JUST FUN</title><meta name="gridsome:hash" content="09771c91682eedafd3ee73b22826856fd274f766"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Hello"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/gridsome-blog/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/gridsome-blog/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/gridsome-blog/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/gridsome-blog/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/gridsome-blog/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/gridsome-blog/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/gridsome-blog/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/gridsome-blog/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/gridsome-blog/assets/css/0.styles.be694e5c.css" as="style"><link rel="preload" href="/gridsome-blog/assets/js/app.d2c4c427.js" as="script"><link rel="preload" href="/gridsome-blog/assets/js/page--src--templates--ghost-post-vue.0de93747.js" as="script"><link rel="prefetch" href="/gridsome-blog/assets/js/6.4b802b1d.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--node-modules--gridsome--app--pages--404-vue.5fb9a6b8.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--src--pages--index-copy-vue.caed7301.js"><link rel="prefetch" href="/gridsome-blog/assets/js/page--src--pages--index-vue.a2bb3d29.js"><link rel="stylesheet" href="/gridsome-blog/assets/css/0.styles.be694e5c.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body  class="darkmode">
    <main role="main" data-server-rendered="true" id="app" class="container"><div class="row"><header class="header"><a href="/gridsome-blog/" class="active"><h1>ğŸ‘¨â€ğŸ’» åªæ˜¯ç©ç© | JUST FUN</h1></a><!----></header><div class="article"><h1 class="article-title">trilium serveræœåŠ¡å®‰è£…æµç¨‹</h1><p class="article-date"> 18 December 2021 Â· <i> min read</i></p><article><p>åšå®¢åœˆå‰æ®µæ—¶é—´ä¸€ç›´åœ¨è®¨è®ºç¬”è®°åº”ç”¨ï¼Œå…ˆæ˜¯è®¨è®ºå°è±¡ç¬”è®°å¦‚ä½•å¦‚ä½•æ¶å¿ƒï¼Œå¼€äº†ä¼šå‘˜ä¹Ÿæœ‰å¹¿å‘Šä¹‹ç±»çš„ã€‚åæ¥åˆè®¨è®ºåˆ°é‚£ä¸ªç¬”è®°å¥½ï¼Œæ¨èçš„å¯è°“äº”èŠ±å…«é—¨ï¼Œå¦‚mybaseã€notionä¹‹ç±»çš„ã€‚</p><p>æˆ‘ä»¥å‰æ²¡ç”¨è¿‡è¿™ä¸€ç±»çš„ç¨‹åºï¼Œä¹Ÿæ²¡æ­å»ºè¿‡ä¸ªäººçŸ¥è¯†åº“ç³»ç»Ÿï¼Œä½†æ˜¯äº†è§£åˆ°è¿™ä¸ªä¸œè¥¿ååˆå‘ç°è‡ªå·±å…¶å®æŒºæœ‰éœ€æ±‚çš„ï¼Œæœ€ç®€å•çš„ä¾‹å­å°±æ˜¯åœ¨æ‰§è¡Œubuntuå‘½ä»¤çš„æ—¶å€™æœ‰äº›å‘½ä»¤æ¯æ¬¡éƒ½å»ç™¾åº¦ï¼Œä½†æ˜¯ä¸‹æ¬¡åˆå¯èƒ½éœ€è¦ç”¨ä¸Šï¼Œç„¶ååˆå»ç™¾åº¦ï¼Œä½†æ˜¯ä¼šæŸ¥æ‰¾åˆ°å¾ˆå¤šæ— æ•ˆçš„å†…å®¹ã€‚å¦‚æœæˆ‘æŠŠæŸ¥æ‰¾åˆ°çš„æ­£ç¡®çš„å†…å®¹æ”¶è—èµ·æ¥ï¼Œä¸‹æ¬¡ç›´æ¥æ‰“å¼€ä¸ä¹…å¥½äº†ä¹ˆã€‚</p><p>sæ‰€ä»¥è¿˜æ˜¯æœ‰ç‚¹å¿ƒåŠ¨çš„ï¼Œnotionä¹‹å‰å°è¯•è¿‡å›½å†…çš„æŠ„ä½œä¸šç‰ˆï¼šwolaiï¼Œå½“æ—¶ç”¨ä¸å¤ªæ‡‚ï¼Œä¹Ÿæ²¡ç†è§£åˆ°è¿™ç±»å·¥å…·çš„çœŸæ­£ç”¨é€”ã€‚è¿™æ¬¡å†æ‰“å¼€wolaiæœ‰ç‚¹è±ç„¶å¼€æœ—çš„æ„Ÿè§‰ï¼Œnotionä¹Ÿå¾ˆå¥½ï¼Œä½†æ˜¯è¿™ç±»æœåŠ¡æ•°æ®éƒ½æ˜¯æ‰˜ç®¡åœ¨è¿è¥å•†é‚£è¾¹ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å®Œå…¨çš„æŠŠæ¡æƒé™è®©æˆ‘æœ‰ç‚¹ä¸å®‰ã€‚æ‰€ä»¥åˆè¯•äº†å¾ˆå¤šå·¥å…·ï¼Œå¦‚ï¼šæ€æºç¬”è®°ã€ä¸ºçŸ¥ç¬”è®°ã€Obsidianã€triliumç­‰ç­‰</p><p>æœ€åæˆ‘é€‰äº†triliumï¼Œæˆ‘æ€»ç»“äº†ä¸€ä¸‹é€‰triliumçš„åŸå› </p><ol><li>å¼€æº</li><li>æœ‰ä¸­æ–‡ç‰ˆ</li><li>å¯ä»¥ä½¿ç”¨markdownè¯­æ³•ï¼Œæ‰€è§æ—¢å¾—</li><li>å¯ä»¥çº¯æœ¬åœ°ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨dockeræ­å»ºæœåŠ¡ç«¯åŒæ­¥ã€‚</li><li>æœ‰æµè§ˆå™¨æ”¶è—å·¥å…·</li><li>ä¸»é¢˜å®šåˆ¶ç®€å•</li><li>æ›´æ–°é¢‘ç¹ï¼Œæçš„issueä¸¤å¤©å†…å¼€å‘è€…éƒ½ä¼šè·Ÿè¿›ã€‚è‡³å°‘åç»­å‡ºé—®é¢˜äº†ä¸ç”¨æ‹…å¿ƒæ²¡äººç®¡ã€‚</li></ol><p>ç›®å‰ä½¿ç”¨èµ·æ¥æŒºèˆ’æœçš„ï¼Œæ”¹äº†ä¸€ä¸ªä¸»é¢˜ï¼Œä¹ŸæŠŠå®˜æ–¹çš„æ’ä»¶éƒ½ç»§æ‰¿è¿›æ¥äº†ã€‚ç›®å‰ç¼–è¾‘å™¨å¶å°”ä¼šå‡ºç°æ‰“ä¸­æ–‡ä¼šå‡ºç°æœ‰ä¸ªå­—æ¯åœ¨å‰é¢çš„bugï¼Œæˆ‘ç”¨ghostçš„ç½‘é¡µç¼–è¾‘å™¨ä¹Ÿä¼šè¿™æ ·ï¼Œä¸çŸ¥é“æ€ä¹ˆå›äº‹ã€‚</p><p>è¿™ä¸ªç‰ˆæœ¬çš„ä¸»é¢˜æˆ‘frokäº†ä¸€ä»½åŸç‰ˆçš„ï¼Œç„¶åä¿®æ”¹äº†ä¸€ä¸‹nightéƒ¨åˆ†çš„cssï¼Œå¦‚æœä½ å–œæ¬¢çš„è¯å¯ä»¥è¿›è¡Œå°è¯•ã€‚</p><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://github.com/QingShui23/Allure-modify?ref=1900.live"><div class="kg-bookmark-content"><div class="kg-bookmark-title">GitHub - QingShui23/Allure-modify: A more beautiful and simple theme for trilium</div><div class="kg-bookmark-description">A more beautiful and simple theme for trilium. Contribute to QingShui23/Allure-modify development by creating an account on GitHub.</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://github.com/fluidicon.png" alt><span class="kg-bookmark-author">GitHub</span><span class="kg-bookmark-publisher">QingShui23</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://opengraph.githubassets.com/1dc28d8a59f6a1935d4e4af55e97c4c806fd37c1e142b06c65ea52f12b2f636e/QingShui23/Allure-modify" alt></div></a></figure><figure class="kg-card kg-image-card"><img src="https://cdn.1900.live/202112/image.png" class="kg-image" alt loading="lazy" width="925" height="640"></figure><blockquote>å¦å¤–ï¼štriliumå®Œå…¨å¯ä»¥ä¸ä¾èµ–serverå†æœ¬åœ°è¿è¡Œï¼Œä½†æ˜¯æ³¨æ„ä¸è¦ä½¿ç”¨onedriveç­‰ç¬¬ä¸‰æ–¹åŒæ­¥æœåŠ¡åŒæ­¥æ•°æ®ã€‚å› ä¸ºtriliumä½¿ç”¨çš„æ˜¯æ•°æ®åº“ï¼Œè¿™æ ·ä¼šå¯¼è‡´æ•°æ®åº“æŸåã€‚å¦‚æœä½ ä½¿ç”¨è¿‡è¿™ç§æ–¹å¼åŒæ­¥æ•°æ®ï¼Œä½ çš„åŸæœ‰æ•°æ®å°†æ— æ³•å¯¼å…¥trilium serverç«¯ä¸­ï¼Œåªèƒ½æ–°å»ºï¼Œæˆ–è€…é€‰æ‹©æœ¬åœ°æ‰“åŒ…å¯¼å‡ºæ•°æ®å†è¿›è¡Œå¯¼å…¥ã€‚</blockquote><h2 id="%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B">å®‰è£…æµç¨‹</h2><h3 id="%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83">å®‰è£…ç¯å¢ƒ</h3><p><code>Ubuntu 18-20</code>ï¼Œæ¨è<code>Ubuntu 20.04 LTS</code></p><blockquote>åšå®¢åœˆçš„å‡å“¥ä¹‹å‰ç”¨<code>centos6.7</code>è·Ÿç€è¿™æ•™ç¨‹èµ°è¿dockeréƒ½è£…ä¸ä¸Šï¼Œæ‰€ä»¥å»ºè®®è¿˜æ˜¯ç”¨æ–°ä¸€ç‚¹çš„ç³»ç»Ÿã€‚ç†è®ºä¸Š20å¹´çš„ç³»ç»Ÿç‰ˆæœ¬åº”è¯¥éƒ½æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</blockquote><h3 id="%E5%AE%89%E8%A3%85docker">å®‰è£…docker</h3><p>æ‹‰å–dockeré•œåƒ</p><pre><code class="language-text-plain">$ curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun</code></pre><p>é…ç½®å›½å†…é•œåƒæºï¼Œå¹¶è®¾ç½®dockerå¼€æœºè‡ªåŠ¨å¯åŠ¨</p><pre><code class="language-text-plain">$ mkdir -p /etc/docker/
$ echo "{'registry-mirrors': ['https://docker.mirrors.ustc.edu.cn']}" &gt; /etc/docker/daemon.json
$ systemctl daemon-reload
$ systemctl start docker
# æŠŠdockeråŠ å…¥å¼€æœºè‡ªå¯
$ systemctl enable docker</code></pre><p>å…¶ä»–å›½å†…é•œåƒæº</p><pre><code class="language-text-plain">ç½‘æ˜“ http://hub-mirror.c.163.com
ustc https://docker.mirrors.ustc.edu.cn
ä¸­å›½ç§‘æŠ€å¤§å­¦ https://docker.mirrors.ustc.edu.cn</code></pre><h3 id="%E7%94%B3%E8%AF%B7ssl%E8%AF%81%E4%B9%A6">ç”³è¯·sslè¯ä¹¦</h3><p>ç°åœ¨æœ‰å¾ˆå¤šå¹³å°éƒ½å¯ä»¥å…è´¹ç”³è¯·sslè¯ä¹¦ï¼Œå› ä¸ºæˆ‘çš„åŸŸåå¤‡æ¡ˆåœ¨è…¾è®¯äº‘çš„ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥åœ¨è…¾è®¯ç”³è¯·äº†ä¸ªå…è´¹çš„sslè¯ä¹¦ã€‚</p><p>ç™»å½•åå°ï¼Œåœ¨æœç´¢å¤„æœç´¢SSLï¼Œç‚¹å‡»ã€åŸŸåä¸ç½‘ç«™ã€‘ä¸‹çš„ã€sslè¯ä¹¦ã€‘</p><figure class="kg-card kg-image-card"><img src="http://127.0.0.1:37840/api/images/ScSfnpcwL9Hf/image.png?Pxoix8Pm3Q" class="kg-image" alt loading="lazy"></figure><p>ç‚¹å‡»ã€æˆ‘çš„è¯ä¹¦ã€‘-&gt; ã€ç”³è¯·å…è´¹è¯ä¹¦ã€‘ï¼Œç„¶åæŒ‰è¦æ±‚å¡«èµ„æ–™å°±å¥½äº†ï¼Œä¸€èˆ¬åå‡ åˆ†é’Ÿå°±èƒ½ä¸‹æ¥ã€‚</p><figure class="kg-card kg-image-card"><img src="http://127.0.0.1:37840/api/images/qXz8bDAKagmK/1636337670-1.jpg?jhRhEUvPgM" class="kg-image" alt loading="lazy"></figure><p>ç”³è¯·å®Œåç‚¹åˆ—è¡¨çš„ä¸‹è½½å°±å¯ä»¥ä¸‹è½½åˆ°SSLçš„è¯ä¹¦æ–‡ä»¶å‹ç¼©åŒ…ã€‚</p><p>æˆ‘ä»¬é€šè¿‡sftpå·¥å…·æˆ–è€…å…¶ä»–çš„æ–¹å¼æŠŠè¯ä¹¦å‹ç¼©åŒ…é‡Œçš„nginxç›®å½•ä¸‹çš„ä¸¤ä¸ªã€.crtï¼Œ.keyã€‘æ–‡ä»¶æ”¾åˆ°æœåŠ¡å™¨ä¸Šå»ï¼Œå¹¶è®°ä½å­˜æ”¾è·¯å¾„ï¼Œä¹‹åä¼šç”¨åˆ°ã€‚</p><h3 id="%E9%85%8D%E7%BD%AEnginx">é…ç½®nginx</h3><p>æˆ‘è¿™è¾¹nginxçš„é…ç½®æ–‡ä»¶ç›®å½•åœ¨<code>etc/nginx/conf.d</code>è¿›å…¥è¯¥ç›®å½•ï¼Œæ–°å¢ä¸€ä¸ªåç¼€ä¸º<code>conf</code>çš„nginxé…ç½®æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><pre><code class="language-text-plain">server {
    listen              443 ssl;  
    server_name         #ä½ çš„ç»‘å®šçš„ç¬”è®°åŸŸå;
    ssl_certificate     #ä½ çš„è¯ä¹¦crtæ–‡ä»¶åœ°å€;  
    ssl_certificate_key #ä½ çš„è¯ä¹¦keyæ–‡ä»¶åœ°å€;
    ssl_session_cache   shared:SSL:1m;  
    ssl_session_timeout 5m;  
    ssl_ciphers         HIGH:!aNULL:!MD5;         
    ssl_prefer_server_ciphers  on;
   
   
 #å› ä¸ºæˆ‘çš„ä¸»ç«™æ²¡æœ‰sslï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆå¦‚æœæ‰‹åŠ¨è¾“å…¥httpsè®¿é—®æˆ‘çš„ä¸»ç«™ä¼šè·³è½¬åˆ°è¿™é‡Œï¼Œæ‰€ä»¥åšäº†å¤„ç†
   
 #å¦‚æœä½ ä¸»ç«™ç»‘å®šäº†sslï¼Œå¯ä»¥ä¸ç”¨å†™è¿™ä¸€æ®µ
    #location / {
	#if ( $host = "ä¸»ç«™åŸŸåï¼Œä¸å¸¦www" ){
   		#return 301 http://$host$request_uri;
   	#}
	#if ( $host = "ä¸»ç«™åŸŸåï¼Œå¸¦www" ){
   		#return 301 http://$host$request_uri;
   	#}

        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_pass http://127.0.0.1:8080;
        proxy_http_version 1.1;
    }


    location ~ /.well-known {
        allow all;
    }

    client_max_body_size 50m;
}
</code></pre><p>ä¿å­˜åç”¨<code>sudo nginx -s reload</code>é‡å¯nginxæœåŠ¡</p><h3 id="%E6%8B%89%E5%8F%96trilium%E4%B8%AD%E6%96%87docker%E9%95%9C%E5%83%8F">æ‹‰å–triliumä¸­æ–‡dockeré•œåƒ</h3><p>æ„Ÿè°¢ä»¥ä¸‹è¿™äº›ä½œè€…ä»¬ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨åˆ°äº†å¦‚æ­¤ä¼˜ç§€çš„è½¯ä»¶</p><ul><li>åŸç‰ˆgithubåœ°å€ï¼šhttps://github.com/zadam/trilium</li><li>æ±‰åŒ–ç‰ˆgithubåœ°å€ï¼šhttps://github.com/Nriver/trilium-translation</li></ul><p>æ‹‰å–é•œåƒï¼ˆé€‰ä¸€æ¡ï¼Œä¸Šé¢æ˜¯ä¸­æ–‡çš„ï¼Œä¸‹é¢æ˜¯åŸç‰ˆçš„ï¼‰</p><pre><code class="language-text-plain">docker pull nriver/trilium-cn 
docker pull zadam/trilium:latest</code></pre><p>åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨</p><pre><code class="language-text-plain">sudo docker run --name tmserver -t -i -p 127.0.0.1:8080:8080 -e TRILIUM_DATA_DIR='/home/node/trilium-data' -v /data/trilium-data:/home/node/trilium-data --restart=always nriver/trilium-cn </code></pre><pre><code class="language-text-plain">å‚æ•°è¯´æ˜ï¼š
--name å®¹å™¨åç§°
-p å®¹å™¨æ˜ å°„çš„ipå’Œç«¯å£
-v æŠŠå®¹å™¨é‡Œçš„triliumæ–‡ä»¶è·¯å¾„æ˜ å°„åˆ°vpsä¸Šï¼Œé˜²æ­¢å®¹å™¨åœæ­¢åæ•°æ®ä¸¢å¤±
--restart=always å¼€æœºè‡ªåŠ¨å¯åŠ¨</code></pre><p>ç°åœ¨è®¿é—®ä½ ç»‘å®šçš„åŸŸåå› è¯¥å°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p></article></div><div class="footer"><div><p>
          Built with
          <a target="_blank" href="//gridsome.org" class="link">Gridsome</a>
          &amp; Made with â¤ï¸ by
          <a target="_blank" href="//alex.design" class="link">Alex Brown</a></p></div><div class="footer-links"><a target="_blank" href="/sitemap.xml">Sitemap</a><a target="_blank" href="/feed.xml">RSS Feed</a></div></div></div></main>
    <script>window.__INITIAL_STATE__={"data":{"metadata":{"siteName":"åªæ˜¯ç©ç© | JUST FUN","siteDescription":"Hello"},"post":{"id":"63158312cf533d1c2cf29b6c","title":"trilium serveræœåŠ¡å®‰è£…æµç¨‹","content":"\u003Cp\u003Eåšå®¢åœˆå‰æ®µæ—¶é—´ä¸€ç›´åœ¨è®¨è®ºç¬”è®°åº”ç”¨ï¼Œå…ˆæ˜¯è®¨è®ºå°è±¡ç¬”è®°å¦‚ä½•å¦‚ä½•æ¶å¿ƒï¼Œå¼€äº†ä¼šå‘˜ä¹Ÿæœ‰å¹¿å‘Šä¹‹ç±»çš„ã€‚åæ¥åˆè®¨è®ºåˆ°é‚£ä¸ªç¬”è®°å¥½ï¼Œæ¨èçš„å¯è°“äº”èŠ±å…«é—¨ï¼Œå¦‚mybaseã€notionä¹‹ç±»çš„ã€‚\u003C\u002Fp\u003E\u003Cp\u003Eæˆ‘ä»¥å‰æ²¡ç”¨è¿‡è¿™ä¸€ç±»çš„ç¨‹åºï¼Œä¹Ÿæ²¡æ­å»ºè¿‡ä¸ªäººçŸ¥è¯†åº“ç³»ç»Ÿï¼Œä½†æ˜¯äº†è§£åˆ°è¿™ä¸ªä¸œè¥¿ååˆå‘ç°è‡ªå·±å…¶å®æŒºæœ‰éœ€æ±‚çš„ï¼Œæœ€ç®€å•çš„ä¾‹å­å°±æ˜¯åœ¨æ‰§è¡Œubuntuå‘½ä»¤çš„æ—¶å€™æœ‰äº›å‘½ä»¤æ¯æ¬¡éƒ½å»ç™¾åº¦ï¼Œä½†æ˜¯ä¸‹æ¬¡åˆå¯èƒ½éœ€è¦ç”¨ä¸Šï¼Œç„¶ååˆå»ç™¾åº¦ï¼Œä½†æ˜¯ä¼šæŸ¥æ‰¾åˆ°å¾ˆå¤šæ— æ•ˆçš„å†…å®¹ã€‚å¦‚æœæˆ‘æŠŠæŸ¥æ‰¾åˆ°çš„æ­£ç¡®çš„å†…å®¹æ”¶è—èµ·æ¥ï¼Œä¸‹æ¬¡ç›´æ¥æ‰“å¼€ä¸ä¹…å¥½äº†ä¹ˆã€‚\u003C\u002Fp\u003E\u003Cp\u003Esæ‰€ä»¥è¿˜æ˜¯æœ‰ç‚¹å¿ƒåŠ¨çš„ï¼Œnotionä¹‹å‰å°è¯•è¿‡å›½å†…çš„æŠ„ä½œä¸šç‰ˆï¼šwolaiï¼Œå½“æ—¶ç”¨ä¸å¤ªæ‡‚ï¼Œä¹Ÿæ²¡ç†è§£åˆ°è¿™ç±»å·¥å…·çš„çœŸæ­£ç”¨é€”ã€‚è¿™æ¬¡å†æ‰“å¼€wolaiæœ‰ç‚¹è±ç„¶å¼€æœ—çš„æ„Ÿè§‰ï¼Œnotionä¹Ÿå¾ˆå¥½ï¼Œä½†æ˜¯è¿™ç±»æœåŠ¡æ•°æ®éƒ½æ˜¯æ‰˜ç®¡åœ¨è¿è¥å•†é‚£è¾¹ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å®Œå…¨çš„æŠŠæ¡æƒé™è®©æˆ‘æœ‰ç‚¹ä¸å®‰ã€‚æ‰€ä»¥åˆè¯•äº†å¾ˆå¤šå·¥å…·ï¼Œå¦‚ï¼šæ€æºç¬”è®°ã€ä¸ºçŸ¥ç¬”è®°ã€Obsidianã€triliumç­‰ç­‰\u003C\u002Fp\u003E\u003Cp\u003Eæœ€åæˆ‘é€‰äº†triliumï¼Œæˆ‘æ€»ç»“äº†ä¸€ä¸‹é€‰triliumçš„åŸå› \u003C\u002Fp\u003E\u003Col\u003E\u003Cli\u003Eå¼€æº\u003C\u002Fli\u003E\u003Cli\u003Eæœ‰ä¸­æ–‡ç‰ˆ\u003C\u002Fli\u003E\u003Cli\u003Eå¯ä»¥ä½¿ç”¨markdownè¯­æ³•ï¼Œæ‰€è§æ—¢å¾—\u003C\u002Fli\u003E\u003Cli\u003Eå¯ä»¥çº¯æœ¬åœ°ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨dockeræ­å»ºæœåŠ¡ç«¯åŒæ­¥ã€‚\u003C\u002Fli\u003E\u003Cli\u003Eæœ‰æµè§ˆå™¨æ”¶è—å·¥å…·\u003C\u002Fli\u003E\u003Cli\u003Eä¸»é¢˜å®šåˆ¶ç®€å•\u003C\u002Fli\u003E\u003Cli\u003Eæ›´æ–°é¢‘ç¹ï¼Œæçš„issueä¸¤å¤©å†…å¼€å‘è€…éƒ½ä¼šè·Ÿè¿›ã€‚è‡³å°‘åç»­å‡ºé—®é¢˜äº†ä¸ç”¨æ‹…å¿ƒæ²¡äººç®¡ã€‚\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp\u003Eç›®å‰ä½¿ç”¨èµ·æ¥æŒºèˆ’æœçš„ï¼Œæ”¹äº†ä¸€ä¸ªä¸»é¢˜ï¼Œä¹ŸæŠŠå®˜æ–¹çš„æ’ä»¶éƒ½ç»§æ‰¿è¿›æ¥äº†ã€‚ç›®å‰ç¼–è¾‘å™¨å¶å°”ä¼šå‡ºç°æ‰“ä¸­æ–‡ä¼šå‡ºç°æœ‰ä¸ªå­—æ¯åœ¨å‰é¢çš„bugï¼Œæˆ‘ç”¨ghostçš„ç½‘é¡µç¼–è¾‘å™¨ä¹Ÿä¼šè¿™æ ·ï¼Œä¸çŸ¥é“æ€ä¹ˆå›äº‹ã€‚\u003C\u002Fp\u003E\u003Cp\u003Eè¿™ä¸ªç‰ˆæœ¬çš„ä¸»é¢˜æˆ‘frokäº†ä¸€ä»½åŸç‰ˆçš„ï¼Œç„¶åä¿®æ”¹äº†ä¸€ä¸‹nightéƒ¨åˆ†çš„cssï¼Œå¦‚æœä½ å–œæ¬¢çš„è¯å¯ä»¥è¿›è¡Œå°è¯•ã€‚\u003C\u002Fp\u003E\u003Cfigure class=\"kg-card kg-bookmark-card\"\u003E\u003Ca class=\"kg-bookmark-container\" href=\"https:\u002F\u002Fgithub.com\u002FQingShui23\u002FAllure-modify?ref=1900.live\"\u003E\u003Cdiv class=\"kg-bookmark-content\"\u003E\u003Cdiv class=\"kg-bookmark-title\"\u003EGitHub - QingShui23\u002FAllure-modify: A more beautiful and simple theme for trilium\u003C\u002Fdiv\u003E\u003Cdiv class=\"kg-bookmark-description\"\u003EA more beautiful and simple theme for trilium. Contribute to QingShui23\u002FAllure-modify development by creating an account on GitHub.\u003C\u002Fdiv\u003E\u003Cdiv class=\"kg-bookmark-metadata\"\u003E\u003Cimg class=\"kg-bookmark-icon\" src=\"https:\u002F\u002Fgithub.com\u002Ffluidicon.png\" alt\u003E\u003Cspan class=\"kg-bookmark-author\"\u003EGitHub\u003C\u002Fspan\u003E\u003Cspan class=\"kg-bookmark-publisher\"\u003EQingShui23\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"kg-bookmark-thumbnail\"\u003E\u003Cimg src=\"https:\u002F\u002Fopengraph.githubassets.com\u002F1dc28d8a59f6a1935d4e4af55e97c4c806fd37c1e142b06c65ea52f12b2f636e\u002FQingShui23\u002FAllure-modify\" alt\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003C\u002Ffigure\u003E\u003Cfigure class=\"kg-card kg-image-card\"\u003E\u003Cimg src=\"https:\u002F\u002Fcdn.1900.live\u002F202112\u002Fimage.png\" class=\"kg-image\" alt loading=\"lazy\" width=\"925\" height=\"640\"\u003E\u003C\u002Ffigure\u003E\u003Cblockquote\u003Eå¦å¤–ï¼štriliumå®Œå…¨å¯ä»¥ä¸ä¾èµ–serverå†æœ¬åœ°è¿è¡Œï¼Œä½†æ˜¯æ³¨æ„ä¸è¦ä½¿ç”¨onedriveç­‰ç¬¬ä¸‰æ–¹åŒæ­¥æœåŠ¡åŒæ­¥æ•°æ®ã€‚å› ä¸ºtriliumä½¿ç”¨çš„æ˜¯æ•°æ®åº“ï¼Œè¿™æ ·ä¼šå¯¼è‡´æ•°æ®åº“æŸåã€‚å¦‚æœä½ ä½¿ç”¨è¿‡è¿™ç§æ–¹å¼åŒæ­¥æ•°æ®ï¼Œä½ çš„åŸæœ‰æ•°æ®å°†æ— æ³•å¯¼å…¥trilium serverç«¯ä¸­ï¼Œåªèƒ½æ–°å»ºï¼Œæˆ–è€…é€‰æ‹©æœ¬åœ°æ‰“åŒ…å¯¼å‡ºæ•°æ®å†è¿›è¡Œå¯¼å…¥ã€‚\u003C\u002Fblockquote\u003E\u003Ch2 id=\"%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B\"\u003Eå®‰è£…æµç¨‹\u003C\u002Fh2\u003E\u003Ch3 id=\"%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83\"\u003Eå®‰è£…ç¯å¢ƒ\u003C\u002Fh3\u003E\u003Cp\u003E\u003Ccode\u003EUbuntu 18-20\u003C\u002Fcode\u003Eï¼Œæ¨è\u003Ccode\u003EUbuntu 20.04 LTS\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003Cblockquote\u003Eåšå®¢åœˆçš„å‡å“¥ä¹‹å‰ç”¨\u003Ccode\u003Ecentos6.7\u003C\u002Fcode\u003Eè·Ÿç€è¿™æ•™ç¨‹èµ°è¿dockeréƒ½è£…ä¸ä¸Šï¼Œæ‰€ä»¥å»ºè®®è¿˜æ˜¯ç”¨æ–°ä¸€ç‚¹çš„ç³»ç»Ÿã€‚ç†è®ºä¸Š20å¹´çš„ç³»ç»Ÿç‰ˆæœ¬åº”è¯¥éƒ½æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚\u003C\u002Fblockquote\u003E\u003Ch3 id=\"%E5%AE%89%E8%A3%85docker\"\u003Eå®‰è£…docker\u003C\u002Fh3\u003E\u003Cp\u003Eæ‹‰å–dockeré•œåƒ\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"language-text-plain\"\u003E$ curl -fsSL https:\u002F\u002Fget.docker.com | bash -s docker --mirror Aliyun\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Eé…ç½®å›½å†…é•œåƒæºï¼Œå¹¶è®¾ç½®dockerå¼€æœºè‡ªåŠ¨å¯åŠ¨\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"language-text-plain\"\u003E$ mkdir -p \u002Fetc\u002Fdocker\u002F\n$ echo \"{'registry-mirrors': ['https:\u002F\u002Fdocker.mirrors.ustc.edu.cn']}\" &gt; \u002Fetc\u002Fdocker\u002Fdaemon.json\n$ systemctl daemon-reload\n$ systemctl start docker\n# æŠŠdockeråŠ å…¥å¼€æœºè‡ªå¯\n$ systemctl enable docker\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Eå…¶ä»–å›½å†…é•œåƒæº\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"language-text-plain\"\u003Eç½‘æ˜“ http:\u002F\u002Fhub-mirror.c.163.com\nustc https:\u002F\u002Fdocker.mirrors.ustc.edu.cn\nä¸­å›½ç§‘æŠ€å¤§å­¦ https:\u002F\u002Fdocker.mirrors.ustc.edu.cn\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"%E7%94%B3%E8%AF%B7ssl%E8%AF%81%E4%B9%A6\"\u003Eç”³è¯·sslè¯ä¹¦\u003C\u002Fh3\u003E\u003Cp\u003Eç°åœ¨æœ‰å¾ˆå¤šå¹³å°éƒ½å¯ä»¥å…è´¹ç”³è¯·sslè¯ä¹¦ï¼Œå› ä¸ºæˆ‘çš„åŸŸåå¤‡æ¡ˆåœ¨è…¾è®¯äº‘çš„ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥åœ¨è…¾è®¯ç”³è¯·äº†ä¸ªå…è´¹çš„sslè¯ä¹¦ã€‚\u003C\u002Fp\u003E\u003Cp\u003Eç™»å½•åå°ï¼Œåœ¨æœç´¢å¤„æœç´¢SSLï¼Œç‚¹å‡»ã€åŸŸåä¸ç½‘ç«™ã€‘ä¸‹çš„ã€sslè¯ä¹¦ã€‘\u003C\u002Fp\u003E\u003Cfigure class=\"kg-card kg-image-card\"\u003E\u003Cimg src=\"http:\u002F\u002F127.0.0.1:37840\u002Fapi\u002Fimages\u002FScSfnpcwL9Hf\u002Fimage.png?Pxoix8Pm3Q\" class=\"kg-image\" alt loading=\"lazy\"\u003E\u003C\u002Ffigure\u003E\u003Cp\u003Eç‚¹å‡»ã€æˆ‘çš„è¯ä¹¦ã€‘-&gt; ã€ç”³è¯·å…è´¹è¯ä¹¦ã€‘ï¼Œç„¶åæŒ‰è¦æ±‚å¡«èµ„æ–™å°±å¥½äº†ï¼Œä¸€èˆ¬åå‡ åˆ†é’Ÿå°±èƒ½ä¸‹æ¥ã€‚\u003C\u002Fp\u003E\u003Cfigure class=\"kg-card kg-image-card\"\u003E\u003Cimg src=\"http:\u002F\u002F127.0.0.1:37840\u002Fapi\u002Fimages\u002FqXz8bDAKagmK\u002F1636337670-1.jpg?jhRhEUvPgM\" class=\"kg-image\" alt loading=\"lazy\"\u003E\u003C\u002Ffigure\u003E\u003Cp\u003Eç”³è¯·å®Œåç‚¹åˆ—è¡¨çš„ä¸‹è½½å°±å¯ä»¥ä¸‹è½½åˆ°SSLçš„è¯ä¹¦æ–‡ä»¶å‹ç¼©åŒ…ã€‚\u003C\u002Fp\u003E\u003Cp\u003Eæˆ‘ä»¬é€šè¿‡sftpå·¥å…·æˆ–è€…å…¶ä»–çš„æ–¹å¼æŠŠè¯ä¹¦å‹ç¼©åŒ…é‡Œçš„nginxç›®å½•ä¸‹çš„ä¸¤ä¸ªã€.crtï¼Œ.keyã€‘æ–‡ä»¶æ”¾åˆ°æœåŠ¡å™¨ä¸Šå»ï¼Œå¹¶è®°ä½å­˜æ”¾è·¯å¾„ï¼Œä¹‹åä¼šç”¨åˆ°ã€‚\u003C\u002Fp\u003E\u003Ch3 id=\"%E9%85%8D%E7%BD%AEnginx\"\u003Eé…ç½®nginx\u003C\u002Fh3\u003E\u003Cp\u003Eæˆ‘è¿™è¾¹nginxçš„é…ç½®æ–‡ä»¶ç›®å½•åœ¨\u003Ccode\u003Eetc\u002Fnginx\u002Fconf.d\u003C\u002Fcode\u003Eè¿›å…¥è¯¥ç›®å½•ï¼Œæ–°å¢ä¸€ä¸ªåç¼€ä¸º\u003Ccode\u003Econf\u003C\u002Fcode\u003Eçš„nginxé…ç½®æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"language-text-plain\"\u003Eserver {\n    listen              443 ssl;  \n    server_name         #ä½ çš„ç»‘å®šçš„ç¬”è®°åŸŸå;\n    ssl_certificate     #ä½ çš„è¯ä¹¦crtæ–‡ä»¶åœ°å€;  \n    ssl_certificate_key #ä½ çš„è¯ä¹¦keyæ–‡ä»¶åœ°å€;\n    ssl_session_cache   shared:SSL:1m;  \n    ssl_session_timeout 5m;  \n    ssl_ciphers         HIGH:!aNULL:!MD5;         \n    ssl_prefer_server_ciphers  on;\n   \n   \n #å› ä¸ºæˆ‘çš„ä¸»ç«™æ²¡æœ‰sslï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆå¦‚æœæ‰‹åŠ¨è¾“å…¥httpsè®¿é—®æˆ‘çš„ä¸»ç«™ä¼šè·³è½¬åˆ°è¿™é‡Œï¼Œæ‰€ä»¥åšäº†å¤„ç†\n   \n #å¦‚æœä½ ä¸»ç«™ç»‘å®šäº†sslï¼Œå¯ä»¥ä¸ç”¨å†™è¿™ä¸€æ®µ\n    #location \u002F {\n\t#if ( $host = \"ä¸»ç«™åŸŸåï¼Œä¸å¸¦www\" ){\n   \t\t#return 301 http:\u002F\u002F$host$request_uri;\n   \t#}\n\t#if ( $host = \"ä¸»ç«™åŸŸåï¼Œå¸¦www\" ){\n   \t\t#return 301 http:\u002F\u002F$host$request_uri;\n   \t#}\n\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_set_header Host $host;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_pass http:\u002F\u002F127.0.0.1:8080;\n        proxy_http_version 1.1;\n    }\n\n\n    location ~ \u002F.well-known {\n        allow all;\n    }\n\n    client_max_body_size 50m;\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Eä¿å­˜åç”¨\u003Ccode\u003Esudo nginx -s reload\u003C\u002Fcode\u003Eé‡å¯nginxæœåŠ¡\u003C\u002Fp\u003E\u003Ch3 id=\"%E6%8B%89%E5%8F%96trilium%E4%B8%AD%E6%96%87docker%E9%95%9C%E5%83%8F\"\u003Eæ‹‰å–triliumä¸­æ–‡dockeré•œåƒ\u003C\u002Fh3\u003E\u003Cp\u003Eæ„Ÿè°¢ä»¥ä¸‹è¿™äº›ä½œè€…ä»¬ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨åˆ°äº†å¦‚æ­¤ä¼˜ç§€çš„è½¯ä»¶\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003EåŸç‰ˆgithubåœ°å€ï¼šhttps:\u002F\u002Fgithub.com\u002Fzadam\u002Ftrilium\u003C\u002Fli\u003E\u003Cli\u003Eæ±‰åŒ–ç‰ˆgithubåœ°å€ï¼šhttps:\u002F\u002Fgithub.com\u002FNriver\u002Ftrilium-translation\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003Eæ‹‰å–é•œåƒï¼ˆé€‰ä¸€æ¡ï¼Œä¸Šé¢æ˜¯ä¸­æ–‡çš„ï¼Œä¸‹é¢æ˜¯åŸç‰ˆçš„ï¼‰\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"language-text-plain\"\u003Edocker pull nriver\u002Ftrilium-cn \ndocker pull zadam\u002Ftrilium:latest\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Eåˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"language-text-plain\"\u003Esudo docker run --name tmserver -t -i -p 127.0.0.1:8080:8080 -e TRILIUM_DATA_DIR='\u002Fhome\u002Fnode\u002Ftrilium-data' -v \u002Fdata\u002Ftrilium-data:\u002Fhome\u002Fnode\u002Ftrilium-data --restart=always nriver\u002Ftrilium-cn \u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cpre\u003E\u003Ccode class=\"language-text-plain\"\u003Eå‚æ•°è¯´æ˜ï¼š\n--name å®¹å™¨åç§°\n-p å®¹å™¨æ˜ å°„çš„ipå’Œç«¯å£\n-v æŠŠå®¹å™¨é‡Œçš„triliumæ–‡ä»¶è·¯å¾„æ˜ å°„åˆ°vpsä¸Šï¼Œé˜²æ­¢å®¹å™¨åœæ­¢åæ•°æ®ä¸¢å¤±\n--restart=always å¼€æœºè‡ªåŠ¨å¯åŠ¨\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Eç°åœ¨è®¿é—®ä½ ç»‘å®šçš„åŸŸåå› è¯¥å°±å¯ä»¥ä½¿ç”¨äº†ã€‚\u003C\u002Fp\u003E","date":"18 December 2021","path":"trilium-server-install"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/gridsome-blog/assets/js/app.d2c4c427.js" defer></script><script src="/gridsome-blog/assets/js/page--src--templates--ghost-post-vue.0de93747.js" defer></script>
  </body>
</html>