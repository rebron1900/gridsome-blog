---
title: 桌面窗口管理器占用内存过高 - 解决方案
tags: []
date modified: 2023-08-05 12:57:26
date created: 2023-01-08 15:25:38
---
# 桌面窗口管理器占用内存过高 - 解决方案
# 问题

桌面窗口管理器英文名为Desktop Window Manager，简称DWM，后文使用简称来描述桌面窗口管理器。在2020年以后发布的Win10系统版本中，例如20H1（2004）、20H2、等等，DWM存在内存泄露问题，会占用大量内存，本人40G内存被DWM占用4G的内存，如下图。  
![图片](Rsources/Assets/bfb7ccae3c1432aa0068bcbea74a4ecb-9fe7f1e0401342b5bc953a2de4a92aa3.png)

关于原因方面，有2个可能，1个是英特尔核心[显卡驱动](https://so.csdn.net/so/search?q=%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8&spm=1001.2101.3001.7020)的原因，1个是微软系统的原因。有人发现没有核显也出现了DWM内存泄露的问题，因此大概率是微软系统的原因。

# 后果

若放任该问题不管，则DWM占用的内存会越来越高，后果及其严重，最直接的影响便是内存不足。同时，还会使电脑发热、卡顿、占用CPU使用率。若玩游戏，则出现的掉帧、发热、卡顿现象更为严重，甚至会造成游戏闪退或电脑系统崩溃。因此强烈建议各位解决该问题。

# 解决方案

## 概述

目前的解决方案有多种，不想详细了解以下各个方案的各位，可以直接查看**升级核显驱动**方案，强烈推荐各位使用该方案，因为该方案可以永久性从根源解决问题。

## 结束进程（不推荐）

这是一种临时解决方案，需要在[任务管理器](https://so.csdn.net/so/search?q=%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E5%99%A8&spm=1001.2101.3001.7020)中手动结束DWM进程。该方案的优点很明显，就是方便快速。但缺点也很明显，就是无法永久性解决问题，DWM还是存在内存泄露问题，每次占用内存过高都需要手动清理。下面介绍步骤：

右键任务栏打开任务管理器，点击任务管理器的`名称`部分使进程按照名称升序排列，在列表最后可以找到DWM进程（因为Z排序在最后），即`桌面窗口管理器`进程，选中该进程，如下图。  
![在这里插入图片描述](Rsources/Assets/a14a41083aaf009ad40a0ff520873bf1-9b4f083368574b719a2dd42d1491d90e.png)  
点击右下角的`结束任务`按钮，DWM进程的内存将会被释放。

**注意：** 结束任务后系统可能会暂时黑屏，但会自动恢复，不用担心。

## 关闭快速启动（不推荐）

该方案有人说好用，但本人即使关闭快速启动后问题依旧没有解决。各位可以自行尝试，也可以直接查看**升级核显驱动**的推荐方案。

步骤：  
打开`控制面板`，进入`电源选项`，点击左侧`选择电源按钮的功能`。  
点击`更改当前不可用设置`，取消勾选`启用快速启动`，点击`保存修改`，如下图。  
![在这里插入图片描述](Rsources/Assets/f4449cb49b82adb1a722fe2c822d1e33-f95db1baa7c44ce68e8ad5c8b3e0ce99.png)

## 升级核显驱动（推荐）

推荐各位使用该方案，因为该方案可以永久性解决问题。前段时间英特尔发布的 `Intel 核显驱动 30.0.101.1191 版本`修复了 DWM 内存泄漏的问题，详情请见如下链接：[DWM使用核显驱动生成内存泄露](https://www.intel.cn/content/www/cn/zh/support/articles/000058381/graphics.html) 。

因此我们只需要将自己电脑的核显驱动更新至`30.0.101.1191或更高版本`，点击下方的驱动下载链接即可下载并安装更新。若想查看电脑显卡已安装的驱动版本可以在`控制面板`的`设备管理器`的`显示适配器`中查看。

核显驱动下载链接：  
[Windows DCH Driver V30.0.101.1191](https://www.intel.com/content/www/us/en/download/19344/691496/intel-graphics-windows-dch-drivers.html) 。

步骤：  
打开核显驱动下载链接后，点击`Download xxx.exe`按钮，或者选择更新的驱动版本进行下载，如下图：  
![在这里插入图片描述](Rsources/Assets/cb55f009dfefdcf5350b642f98367e32-ac40b44d80df41b7bea7fefda3b40b04.png)  
下载后先关闭360等安全软件，防止安装失败。然后右键下载好的`exe文件`，选择`以管理员身份运行`，进行安装即可，如下图：  
![在这里插入图片描述](Rsources/Assets/359bed7470c79eedeb41d4d23b226131-f3024a63c8f34e1c9d411db592113fe1.png)  
值得一提的是，安装驱动前需同意`英特尔软件许可协议`，需要把协议拉倒最底端才能成功点击`我同意`按钮，如下图：  
![在这里插入图片描述](Rsources/Assets/9a6ccc36d4fda9e75ef13fb199219f68-2028a7b0cd1047ba88ce05a860a15bdb.png)  
安装成功后需要重启电脑。若安装失败可以重启电脑再次安装，在软件安装程序的`设置`步骤选择`修复`，如下图：  
![在这里插入图片描述](Rsources/Assets/bf249fe7f1d7359eeb81d115e65f2b92-67558544256c4887ac76e86e4f17a57b.png)  
若还是安装失败，则可以在软件安装程序的`设置`步骤勾选`进行全新安装`，然后选择`修复`，如下图：  
（或者在`控制面板`的`设备管理器`中卸载显卡驱动，再运行驱动安装程序安装驱动）  
![在这里插入图片描述](Rsources/Assets/a6d039713aaa0fc0a2fea001bdbb2561-fa5d0d860539417ba62fd90b0258a8da.png)  
直至安装成功即可。

## 降级核显驱动（不推荐）

此方案是保底方案，若**升级核显驱动**方案不起作用，则可以尝试此方案，原理很简单，当前的核显驱动会出现问题，那么将核显驱动降级到2020年初的旧版本的驱动即可。

旧版驱动下载链接：  
[Windows DCH Driver V26.20.100.8141](https://www.intel.com/content/www/us/en/download/19344/29530/intel-graphics-windows-dch-drivers.html)

步骤：  
首先在`控制面板`的`设备管理器`的`显示适配器`中卸载显卡的驱动程序。  
然后在驱动下载链接中下载对应的版本的核显驱动程序。  
进行驱动程序的安装，步骤同**升级核显驱动**。