{"hash":"03d4e26bc6a7202eb1f57b68d71e0c4979a9960b","data":{"metadata":{"siteName":"只是玩玩 | JUST FUN","siteDescription":"/gridsome-blog"},"post":{"id":"645f370638e86c0001a783b5","title":"Wordpress主题：二〇一九，Ghost版","content":"<p>之前用的主题 <a href=\"https://github.com/rebron1900/attila?ref=1900.live\">Attila</a> 自22年6月修改完成后用到现在也差不多一年了，不可否认Attila是个非常好的主题，而且在使用期间我还陆陆续续做了很多喜欢的功能集成，如：豆瓣、TOC、友链。</p><p>前端时间看到 <a href=\"imzm.im\">imzm.im</a> 的Wordpress主题 二〇一九，初见的第一眼感觉很舒服。虽然只是Wordpress的一个免费默认主题，但是较大的字体和舒适的排版让人在阅读方面能感受到很强烈的愉悦感，当时搜了一下发现没有Ghost的办法，所以就又萌生了移植的想法。</p><p>以前写Attila没太搞明白Glup的作用，但是体会过他的方便，所以这次也打算从头开始用一个比较方便的脚手架枸橘，最后选定了 <a href=\"https://github.com/royalfig?ref=1900.live\">@royalfig</a>  的 <a href=\"https://github.com/royalfig/ghost-theme-starter?ref=1900.live\">Ghost-theme-starter</a> 主题脚手架做开发，这个脚手架主要工具有下面这些：</p><ul><li>打包工具：<a href=\"https://github.com/rollup/rollup?ref=1900.live\">Rollup </a></li><li>sass工具：postcss</li></ul><p>不过刚开始就遇到了调试环境无法启动的问题，检查后发现启动命令有点问题，看了 @royalfig 最新的一个主题的配置文件后发现启动命令要对应着修改成<code>\"watch\": \"rollup -c --environment NODE_ENV:development -w\"</code> 后才可以正常启动。</p><p>之后又在移植scss文件后发现新版本的sass2.0后不支持<code>/</code>符号计算，报了很多错误，起初还想着自己手动改，发现越改越错，后来在错误提示中发现可以整体自动迁移：<a href=\"https://sass-lang.com/documentation/breaking-changes/slash-div?ref=1900.live#automatic-migration\">Automatic Migration</a></p><p>第一次使用Rollup.js这个脚手架（其实也是第一正式从头开始用脚手架开发），发现要把cssi引入在入口js文件中后文件才会被编译。</p><p>踩过这些坑之后才算是顺利进入主题移植阶段。</p><hr><p>目前简单完成了初步的移植，大部分功能都可以正常使用了，不过大概率存在BUG，待后续完善。</p><figure class=\"kg-card kg-bookmark-card kg-card-hascaption\"><a class=\"kg-bookmark-container\" href=\"https://github.com/rebron1900/twentynineteen-ghost?ref=1900.live\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">GitHub - rebron1900/twentynineteen-ghost: This is a Ghost port of WordPress’s Twenty Nineteen theme. Ghost theme development scaffolding uses Ghost-theme-starter, thanks to @royalfig for the tool.</div><div class=\"kg-bookmark-description\">This is a Ghost port of WordPress&amp;#39;s Twenty Nineteen theme. Ghost theme development scaffolding uses Ghost-theme-starter, thanks to @royalfig for the tool. - GitHub - rebron1900/twentynineteen-g…</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://github.com/fluidicon.png\" alt><span class=\"kg-bookmark-author\">GitHub</span><span class=\"kg-bookmark-publisher\">rebron1900</span></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://opengraph.githubassets.com/332d1fc926b7a73bcf68c3cc5b57c35bfb32bf79e55ffd84f5fce771fe5db144/rebron1900/twentynineteen-ghost\" alt></div></a><figcaption>项目地址</figcaption></figure><h3 id=\"%E7%9B%AE%E5%89%8D%E5%B7%B2%E5%AE%8C%E6%88%90%E7%9A%84%E5%8A%9F%E8%83%BD%E5%92%8C%E5%8F%91%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A\">目前已完成的功能和发现的问题：</h3><ol><li>主页正常</li><li>内容页正常</li><li>page页面正常</li><li>暗黑模式(用户切换功能还没写)</li><li>评论功能(目前只适配了twikoo，加入评论那里应该要显示最评论近的六个头像，看了twikoo的文档大概率可以实现)</li><li>css是wordpress里移植的，可能有很多问题，页面结构是从hugo版里拿的，也可能有很多问题。</li><li>有搜索功能(目前是直接文字，考虑做一下美化？)</li></ol><h3 id=\"%E5%BE%85%E5%AE%9E%E7%8E%B0%E7%9A%84\">待实现的</h3><ol><li><s>评论区头像重叠</s></li><li><s>友情链接、douban页面移植美化适配，思路是以前的思路(attila)</s> </li><li><s>前端切换主题，并持久化保存</s></li><li><s>TOC</s></li><li><s>代码高亮</s></li><li>持续修复BUG</li><li><s>Ghost样式适配~</s></li></ol><p></p>","date":"13 May 2023","path":"wordpress_theme_2009_ghost_edition"}},"context":{}}