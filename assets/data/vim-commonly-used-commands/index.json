{"hash":"2cbfaa773c414da5c97e6a0cf2cb9fa9d7db58ae","data":{"metadata":{"siteName":"只是玩玩 | JUST FUN","siteDescription":"Hello"},"post":{"id":"63158312cf533d1c2cf29a73","title":"VIM的常用命令","content":"<!--kg-card-begin: markdown--><p>vi(vim)是上Linux非常常用的 编辑器，很多Linux发行版都默认安装了vi(vim)。vi(vim)命令繁多但是如果使用灵活之后将会大大提高效率。vi是“visual interface”的缩写，vim是vi IMproved(增强版的vi)。在一般的系统管理维护中vi就够用，如果想使用代码加亮的话可以使用vim。下面vps侦探整理一下vi的使用教程：包含vi的基本介绍、使用模式、文件的打开关闭保存、插入文本或新建行、移动光标、删除、恢复字符或行、搜索等等，算是一篇比较适合新手学习vi的教程。</p>\n<p>vi有3个模式：插入模式、命令模式、低行模式。</p>\n<blockquote>\n<p>插入模式：在此模式下可以输入字符，按ESC将回到命令模式。</p>\n<p>命令模式：可以移动光标、删除字符等。</p>\n<p>低行模式：可以保存文件、退出vi、设置vi、查找等功能(低行模式也可以看作是命令模式里的)。</p>\n</blockquote>\n<p>一、打开文件、保存、关闭文件(vi命令模式下使用)</p>\n<blockquote>\n<p>vi filename       //打开filename文件</p>\n<p>:w       //保存文件</p>\n<p>:w vpser.net <a href=\"//xn--vpser-6r3hx99d8s4e.xn--net-wu9dq54h\">//保存至vpser.net文件</a></p>\n<p>:q          //退出编辑器，如果文件已修改请使用下面的命令</p>\n<p>:q!        //退出编辑器，且不保存</p>\n<p>:wq         //退出编辑器，且保存文件</p>\n</blockquote>\n<p>二、插入文本或行(vi命令模式下使用，执行下面命令后将进入插入模式，按ESC键可退出插入模式)</p>\n<blockquote>\n<p>a      //在当前光标位置的右边添加文本</p>\n<p>i       //在当前光标位置的左边添加文本</p>\n<p>A     //在当前行的末尾位置添加文本</p>\n<p>I      //在当前行的开始处添加文本(非空字符的行首)</p>\n<p>O     //在当前行的上面新建一行</p>\n<p>o     //在当前行的下面新建一行</p>\n<p>R    //替换(覆盖)当前光标位置及后面的若干文本</p>\n<p>J    //合并光标所在行及下一行为一行(依然在命令模式)</p>\n</blockquote>\n<p>三、移动光标(vi命令模式下使用)</p>\n<blockquote>\n<p>1、使用上下左右方向键</p>\n<p>2、命令模式下：h   向左、j   向下 、k   向上、l  向右。</p>\n<p>空格键 向右、Backspace  向左、Enter  移动到下一行首、-  移动到上一行首。</p>\n</blockquote>\n<p>四、删除、恢复字符或行(vi命令模式下使用)</p>\n<blockquote>\n<p>x         //删除当前字符</p>\n<p>nx         //删除从光标开始的n个字符</p>\n<p>dd      //删除当前行</p>\n<p>ndd   //向下删除当前行在内的n行</p>\n<p>u       //撤销上一步操作</p>\n<p>U      //撤销对当前行的所有操作</p>\n</blockquote>\n<p>五、搜索(vi命令模式下使用)</p>\n<blockquote>\n<p>/vpser     //向光标下搜索vpser字符串</p>\n<p>?vpser     //向光标上搜索vpser字符串</p>\n<p>n           //向下搜索前一个搜素动作</p>\n<p>N         //向上搜索前一个搜索动作</p>\n</blockquote>\n<p>六、跳至指定行(vi命令模式下使用)</p>\n<blockquote>\n<p>n+        //向下跳n行</p>\n<p>n-         //向上跳n行</p>\n<p>nG        //跳到行号为n的行</p>\n<p>G           //跳至文件的底部</p>\n</blockquote>\n<p>七、设置行号(vi命令模式下使用)</p>\n<blockquote>\n<p>:set  nu     //显示行号</p>\n<p>:set nonu    //取消显示行号</p>\n</blockquote>\n<p>八、复制、粘贴(vi命令模式下使用)</p>\n<blockquote>\n<p>yy    //将当前行复制到缓存区，也可以用 &quot;ayy 复制，&quot;a 为缓冲区，a也可以替换为a到z的任意字母，可以完成多个复制任务。</p>\n<p>nyy   //将当前行向下n行复制到缓冲区，也可以用 &quot;anyy 复制，&quot;a 为缓冲区，a也可以替换为a到z的任意字母，可以完成多个复制任务。</p>\n<p>yw    //复制从光标开始到词尾的字符。</p>\n<p>nyw   //复制从光标开始的n个单词。</p>\n<p>y^      //复制从光标到行首的内容。  VPS侦探</p>\n<p>y$      //复制从光标到行尾的内容。</p>\n<p>p        //粘贴剪切板里的内容在光标后，如果使用了前面的自定义缓冲区，建议使用&quot;ap 进行粘贴。</p>\n<p>P        //粘贴剪切板里的内容在光标前，如果使用了前面的自定义缓冲区，建议使用&quot;aP 进行粘贴。</p>\n</blockquote>\n<p>九、替换(vi命令模式下使用)</p>\n<blockquote>\n<p>:s/old/new      //用new替换行中首次出现的old</p>\n<p>:s/old/new/g         //用new替换行中所有的old</p>\n<p>:n,m s/old/new/g     //用new替换从n到m行里所有的old</p>\n<p>:%s/old/new/g      //用new替换当前文件里所有的old</p>\n</blockquote>\n<p>十、编辑其他文件</p>\n<blockquote>\n<p>:e otherfilename    //编辑文件名为otherfilename的文件。</p>\n</blockquote>\n<p>十一、修改文件格式</p>\n<blockquote>\n<p>:set fileformat=unix   //将文件修改为unix格式，如win下面的文本文件在linux下会出现^M。</p>\n<p>总结：vi(vim)教程虽然有比较多的命令，但是只要勤加练习，相信你会很快的熟练掌握，同时也会给你的工作或学习带来更高的效率。当如果不知道自己处在什么模式时可以按2次Esc键即可回到命令模式，会有最后提醒一点：注意大小写！！！</p>\n<p>如有问题欢迎在本文留言或到VPS论坛交流。</p>\n<p>原创文章，转载需作者同意，且必须以链接形式注明出处。</p>\n</blockquote>\n<p><strong>&gt;&gt;转载请注明出处：VPS侦探 本文链接地址：<a href=\"http://www.vpser.net/manage/vi.html?ref=1900.live\">http://www.vpser.net/manage/vi.html</a></strong></p>\n<!--kg-card-end: markdown-->","date":"20 July 2014","path":"vim-commonly-used-commands"}},"context":{}}