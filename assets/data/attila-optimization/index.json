{"hash":"79ad4906a93b028ce0cc44a61d77049cbbf31c8d","data":{"metadata":{"siteName":"只是玩玩 | JUST FUN","siteDescription":"Hello"},"post":{"id":"63158312cf533d1c2cf29b80","title":"开源主题Attila优化","content":"<p><a href=\"https://github.com/zutrinken/attila?ref=1900.live\">Attila</a>是一款优秀简洁的开源单栏Ghost主题，虽然这款主题有中文汉化，但是作者并未针对中文做出相应的优化，而且搜索功能无法正常使用中文进行搜索。‌‌</p><p>针对这个问题我数星期前提交过一个<a href=\"https://github.com/zutrinken/attila/issues/222?ref=1900.live\">Issue</a>，作者虽然也有回应，并询问了我有没有实现方式，我也做出了回应，但是一直没有做出更新和优化。后来秉承着自己动手丰衣足食，在本地用发布的压缩版本修改了一个自己能用的，但是一直没去研究怎么才能搜索中文，之前用的Kemia这个主题是可以搜索中文的，我今天看了下代码发现应该可以实现。</p><p>刚刚索性就把源码Fork了一份，回家到现在花了四个小时优化、修改好后传上了Github，希望更多的Ghost博友能使用上这款优秀的主题🙏。</p><figure class=\"kg-card kg-gallery-card kg-width-wide\"><div class=\"kg-gallery-container\"><div class=\"kg-gallery-row\"><div class=\"kg-gallery-image\"><img src=\"https://cdn.1900.live/202206/2022-06-28-01-03-29-localhost-624e4f7ff706.png\" width=\"2538\" height=\"1278\" loading=\"lazy\" alt></div><div class=\"kg-gallery-image\"><img src=\"https://cdn.1900.live/202206/snipaste_2022-06-28_01-03-57.png\" width=\"2530\" height=\"1276\" loading=\"lazy\" alt></div></div><div class=\"kg-gallery-row\"><div class=\"kg-gallery-image\"><img src=\"https://cdn.1900.live/202206/snipaste_2022-06-28_01-05-19.png\" width=\"2529\" height=\"1267\" loading=\"lazy\" alt></div><div class=\"kg-gallery-image\"><img src=\"https://cdn.1900.live/202206/snipaste_2022-06-28_01-06-13.png\" width=\"2551\" height=\"1271\" loading=\"lazy\" alt></div></div></div></figure><div class=\"kg-card kg-callout-card kg-callout-card-grey\"><div class=\"kg-callout-emoji\">🏗️</div><div class=\"kg-callout-text\">仓库地址：<a href=\"https://github.com/rebron1900/attila?ref=1900.live\">https://github.com/rebron1900/attila</a></div></div><h4 id=\"%E4%BC%98%E5%8C%96%E5%86%85%E5%AE%B9%E5%A6%82%E4%B8%8B%EF%BC%9A\">优化内容如下：</h4><ul><li>优化了中文字体显示</li><li>缩小了主体内容区宽度，</li><li>删除了题头图片，并更改了日期格式</li><li>文章简介自动截取文章前 50 个字符</li><li>评论适配 <a href=\"https://twikoo.js.org/?ref=1900.live\">Twikoo</a>，请在后台主题页面设置 Twikoo 腾讯云 id，参数名还是 Disqus 没改。</li><li>增加了 Lightbox 插件，使用的开源库 <a href=\"https://github.com/libhide/simplebox.js?ref=1900.live\">Simplebox</a></li><li>搜索改为使用 <a href=\"https://fusejs.io/?ref=1900.live\">Fuse.js</a>，现在可以搜索中文了。</li><li>适配了友链界面，请在友链文章中插入 <code>&lt;hr class=\"links\" /&gt;</code> 标签，然后把友链以 bookmark 形式插入文章即可。</li><li>使用<a href=\"https://github.com/backrunner/pangu.simple.js?ref=1900.live\">pangu.simple.js</a>优化中文空格</li><li>实现TOC功能，期初是实现少数派那样的...留下没技术的眼泪。<br>给想要开启TOC的文章添加一个 <code>#post-toc</code> 的标签即可，<a href=\"https://1900.live/suo-wei-qian-hou/\">Demo</a></li><li>实现豆瓣<a href=\"https://1900.live/movies\">观影清单</a> ，在主题设置中设置 <code>Douban_movie</code> 链接为你的 <code>doumark-action</code> 缓存的JSON文件地址。</li></ul><h3 id=\"todo\">TODO</h3><ul><li> <s>类似少数派的TOC功能实现</s> #2022年6月28日</li><li><s>文章归档页面</s></li><li><s>豆瓣观影页面</s></li><li>相册页面</li><li>....</li></ul><h3 id=\"%E8%AF%B7%E6%88%91%E5%96%9D%E6%9D%AF%E5%92%96%E5%95%A1\">请我喝杯咖啡</h3><p>要是你觉得这个主题修改的还不错的话，想请我喝杯瑞幸可以扫这个..</p><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn.1900.live/202206/snipaste_2022-06-29_00-34-18.png\" class=\"kg-image\" alt loading=\"lazy\" width=\"369\" height=\"369\"></figure>","date":"27 June 2022","path":"attila-optimization"}},"context":{}}