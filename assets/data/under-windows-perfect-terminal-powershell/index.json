{"hash":"03d4e26bc6a7202eb1f57b68d71e0c4979a9960b","data":{"metadata":{"siteName":"只是玩玩 | JUST FUN","siteDescription":"/gridsome-blog"},"post":{"id":"639595c25d48720001f93858","title":"Windows下完美的Terminal：Powershell","content":"<p>以前用命令行工具一直都是全手打，没用过提示之类的，但是看到一些大佬的视频里用终端都带提示、历史命令，那个时候就很好奇，不过一直没学习怎么配置。</p><p>前些日志在折腾Python环境的时候偶然接触了Windows下的跨平台命令行工具：<a href=\"https://github.com/PowerShell/PowerShell?ref=1900.live\">Powershell</a>（这个不是Windows自带的那个Windows Powershell），这个Powershell项目网站上指出的两者区别。</p><blockquote>Windows PowerShell vs. PowerShell Core<br>Although this repository started as a fork of the Windows PowerShell code base, changes made in this repository do not make their way back to Windows PowerShell 5.1 automatically. This also means that <a href=\"https://github.com/PowerShell/PowerShell/issues?ref=1900.live\">issues tracked here</a> are only for PowerShell Core 6 and higher. Windows PowerShell specific issues should be reported with the <a href=\"https://support.microsoft.com/windows/send-feedback-to-microsoft-with-the-feedback-hub-app-f59187f8-8739-22d6-ba93-f66612949332?ref=1900.live\" rel=\"nofollow\">Feedback Hub app</a>, by choosing \"Apps &gt; PowerShell\" in category.</blockquote><p>用上了这个工具后我又偶然了解到 <a href=\"https://github.com/JanDeDobbeleer/oh-my-posh?ref=1900.live\">oh-my-posh</a> ，了解了Trminal的美化，然后又偶然间又接触到了命令行提示的配置，配置完后才发现配置好的Trminal和没配置的简直是一个天上一个地上。</p><h2 id=\"%E4%B8%80%E3%80%81%E5%AE%89%E8%A3%85powershell\">一、安装Powershell</h2><p>安装方式又很多种，我这里用的官方推荐的winget安装方式<sup><a>[2]</a></sup>：</p><pre><code>winget search Microsoft.PowerShell\nwinget install --id Microsoft.Powershell --source winget\n</code></pre><h2 id=\"%E4%BA%8C%E3%80%81%E5%AE%89%E8%A3%85oh-my-posh\">二、安装oh-my-posh</h2><p>windows11的话直接用 <code>Winget</code> 执行安装命令<sup><a>[1]</a></sup>就可以了，还是相当方便的</p><pre><code class=\"language-shell\">winget install JanDeDobbeleer.OhMyPosh -s winget\n</code></pre><h2 id=\"%E4%B8%89%E3%80%81%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\">三、修改配置文件</h2><p>使用 <code>notepad $profile</code> 打开配置文件，在开头部分增加以下代码，其中 <code>catppuccin_frappe.omp.json</code> 为主题名字，具体可以用的主题在<a href=\"https://ohmyposh.dev/docs/themes?ref=1900.live\">这个网站</a>上可以预览：</p><pre><code class=\"language-shell\">#配置oh-my-posh自动加载，并且设置主题为 catppuccin_frappe \noh-my-posh init pwsh --config \"$env:POSH_THEMES_PATH\\catppuccin_frappe.omp.json\" | Invoke-Expression\n\n# 下面是配置自动完成和自动提示\n# Shows navigable menu of all options when hitting Tab\nSet-PSReadlineKeyHandler -Key Tab -Function MenuComplete\n# Autocompletion for arrow keys\nSet-PSReadlineKeyHandler -Key UpArrow -Function HistorySearchBackward\nSet-PSReadlineKeyHandler -Key DownArrow -Function HistorySearchForward\n# auto suggestions\nImport-Module PSReadLine\nSet-PSReadLineOption -PredictionSource History\n\n</code></pre><hr><h2 id=\"%E5%BC%95%E7%94%A8\">引用</h2><p><a href=\"https://ohmyposh.dev/docs/installation/windows?ref=1900.live#installation\">Windows | Oh My Posh</a> <a>↩︎</a></p><p><a href=\"https://learn.microsoft.com/zh-cn/powershell/scripting/install/installing-powershell-on-windows?view=powershell-7.3&ref=1900.live#install-powershell-using-winget-recommended\">在 Windows 上安装 PowerShell - PowerShell | Microsoft Learn</a> <a>↩︎</a></p>","date":"11 December 2022","path":"under-windows-perfect-terminal-powershell"}},"context":{}}