{"hash":"0810a28e7848218696784bc8b33ad1e40c9e72dc","data":{"metadata":{"siteName":"只是玩玩 | JUST FUN","siteDescription":"Hello"},"post":{"id":"634ac12112988006f2d13078","title":"Ghost博客实现豆瓣观影清单","content":"<h3 id=\"%E6%97%A9%E6%9C%9F%E5%AE%9E%E7%8E%B0\">早期实现</h3><p>豆瓣观影清单、书架的功能之前也做过，当时用过好几个方案</p><ol><li>当时找的一个教程，不过不记得出处了，不过我写了<a href=\"https://1900.live/dou-ban-shu-jia-xiu-fu/\">一篇日志</a>记录这个事情，里面记录了实现过程，原理其实很现在这个类似</li><li>另外一个是当时一个叫mufeng还是布克牧为的大佬搞了一个douban的数据站，可以缓存你豆瓣的观影数据，不过好像也停止服务了</li></ol><p>这两个方案都或多或少的出现问题了，我后来懒也就一直没有修过，所以之前导航上一直没有书架和豆瓣的链接。</p><h3 id=\"%E5%85%B6%E4%BB%96%E6%96%B9%E6%A1%88\">其他方案</h3><p>但是在空着的这段时间我有时候也找过解决方案，有一次在<a href=\"https://immmmm.com/movies/?ref=1900.live\">木木木木木</a> 大佬的博客里发现了一个hugo的实现方案，功能非常齐全，可以实现清单的分类筛选、时间筛选、评分筛选、排序等功能。</p><p>当时一下就心动了。</p><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn.1900.live/assets/2022/10/15image.png\" class=\"kg-image\" alt loading=\"lazy\" width=\"979\" height=\"845\"></figure><p>大佬博客也有一篇日志提到了这个功能是谁写的，并且附上了链接。</p><blockquote>来自于 <a href=\"https://imnerd.org/doumark.html?ref=1900.live\">@怡红公子</a> 的自制轮子：<a href=\"https://github.com/lizheming/doumark-action?ref=1900.live\">doumark-action</a> ，豆瓣书影音同步 GitHub Action。</blockquote><p>我当时尝试着弄了一下，虽然成功通过<a href=\"https://github.com/lizheming/doumark-action?ref=1900.live\">doumark-action</a> 缓存了我的豆瓣数据，但是后续的页面渲染把我卡住了，hugo的模板渲染用到了一些hugo特有的函数，我当时也看不太懂，所以就暂时搁置了。</p><p>后来有些时候想起了会忽然研究一下怎么处理，但是一直没落实代码实现上面。</p><hr><p>不过今天终于下定决心要把这个功能给实现出来。</p><p>仔细研究了hugo的渲染代码，我发现其实前端的渲染完全可以用我目前渲染Memos的方式实现，只需要把数据处理成和hugo用到的格式就行了。</p><!--kg-card-begin: html--><table class=\"js-csv-data csv-data js-file-line-container\" style=\"box-sizing: border-box; border-spacing: 0px; border-collapse: collapse; margin-top: 0px; margin-bottom: 0px !important; display: block; width: max-content; max-width: 100%; overflow: auto; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important; color: rgb(201, 209, 217); font-size: 16px; font-style: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; background-color: rgb(13, 17, 23); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\"><thead style=\"box-sizing: border-box; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\"><tr id=\"LC1\" class=\"js-file-line\" style=\"box-sizing: border-box; background-color: var(--color-canvas-default); border-top: 0px; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\"><th fr-fix-stroke=\"true\" style=\"box-sizing: border-box; padding: 5px; -webkit-text-stroke: 0.05px currentcolor; font-weight: 600; border-top: 0px; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; background: var(--color-canvas-subtle); font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">id</th><th fr-fix-stroke=\"true\" style=\"box-sizing: border-box; padding: 5px; -webkit-text-stroke: 0.05px currentcolor; font-weight: 600; border-top: 0px; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; background: var(--color-canvas-subtle); font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">title</th><th fr-fix-stroke=\"true\" style=\"box-sizing: border-box; padding: 5px; -webkit-text-stroke: 0.05px currentcolor; font-weight: 600; border-top: 0px; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; background: var(--color-canvas-subtle); font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">subtitle</th><th fr-fix-stroke=\"true\" style=\"box-sizing: border-box; padding: 5px; -webkit-text-stroke: 0.05px currentcolor; font-weight: 600; border-top: 0px; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; background: var(--color-canvas-subtle); font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">poster</th><th fr-fix-stroke=\"true\" style=\"box-sizing: border-box; padding: 5px; -webkit-text-stroke: 0.05px currentcolor; font-weight: 600; border-top: 0px; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; background: var(--color-canvas-subtle); font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">pubdate</th><th fr-fix-stroke=\"true\" style=\"box-sizing: border-box; padding: 5px; -webkit-text-stroke: 0.05px currentcolor; font-weight: 600; border-top: 0px; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; background: var(--color-canvas-subtle); font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">url</th><th fr-fix-stroke=\"true\" style=\"box-sizing: border-box; padding: 5px; -webkit-text-stroke: 0.05px currentcolor; font-weight: 600; border-top: 0px; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; background: var(--color-canvas-subtle); font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">rating</th><th fr-fix-stroke=\"true\" style=\"box-sizing: border-box; padding: 5px; -webkit-text-stroke: 0.05px currentcolor; font-weight: 600; border-top: 0px; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; background: var(--color-canvas-subtle); font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">genres</th><th fr-fix-stroke=\"true\" style=\"box-sizing: border-box; padding: 5px; -webkit-text-stroke: 0.05px currentcolor; font-weight: 600; border-top: 0px; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; background: var(--color-canvas-subtle); font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">star</th><th fr-fix-stroke=\"true\" style=\"box-sizing: border-box; padding: 5px; -webkit-text-stroke: 0.05px currentcolor; font-weight: 600; border-top: 0px; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; background: var(--color-canvas-subtle); font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">comment</th><th fr-fix-stroke=\"true\" style=\"box-sizing: border-box; padding: 5px; -webkit-text-stroke: 0.05px currentcolor; font-weight: 600; border-top: 0px; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; background: var(--color-canvas-subtle); font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">tags</th><th fr-fix-stroke=\"true\" style=\"box-sizing: border-box; padding: 5px; -webkit-text-stroke: 0.05px currentcolor; font-weight: 600; border-top: 0px; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; background: var(--color-canvas-subtle); font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">star_time</th></tr></thead><tbody style=\"box-sizing: border-box; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\"><tr id=\"LC2\" class=\"js-file-line\" style=\"box-sizing: border-box; background-color: var(--color-canvas-default); border-top: 0px; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\"><td id=\"L2\" class=\"blob-num js-line-number\" data-line-number=\"2\" style=\"box-sizing: border-box; padding: 10px 8px 9px; position: relative; width: 50px; min-width: 50px; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; font-size: 12px; line-height: 1; color: var(--color-fg-subtle); text-align: right; white-space: nowrap; vertical-align: top; cursor: pointer; user-select: none; border: 0px; overflow: hidden; background: var(--color-canvas-default); text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\"></td><td style=\"box-sizing: border-box; padding: 5px; border: 1px solid var(--color-border-default); overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">3469612151</td><td style=\"box-sizing: border-box; padding: 5px; border: 1px solid var(--color-border-default); overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">杰伊·比姆</td><td style=\"box-sizing: border-box; padding: 5px; border: 1px solid var(--color-border-default); overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">2021 / 印度 / 剧情 犯罪 / 塔·塞·纳纳维尔 / 苏利耶·西瓦库马 Lijo Mol Jose</td><td style=\"box-sizing: border-box; padding: 5px; border: 1px solid var(--color-border-default); overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">https://img9.doubanio.com/view/photo/m_ratio_poster/public/p2734251414.jpg</td><td style=\"box-sizing: border-box; padding: 5px; border: 1px solid var(--color-border-default); overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">2021-11-02(印度)</td><td style=\"box-sizing: border-box; padding: 5px; border: 1px solid var(--color-border-default); overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">https://movie.douban.com/subject/35652715/</td><td style=\"box-sizing: border-box; padding: 5px; border: 1px solid var(--color-border-default); overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">8.7</td><td style=\"box-sizing: border-box; padding: 5px; border: 1px solid var(--color-border-default); overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">剧情,犯罪</td><td style=\"box-sizing: border-box; padding: 5px; border: 1px solid var(--color-border-default); overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">5</td><td style=\"box-sizing: border-box; padding: 5px; border: 1px solid var(--color-border-default); overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">这，如此显然的诬陷，竟然盛行！</td><td style=\"box-sizing: border-box; padding: 5px; border: 1px solid var(--color-border-default); overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\"></td><td style=\"box-sizing: border-box; padding: 5px; border: 1px solid var(--color-border-default); overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; font-family: &quot;Microsoft YaHei&quot;, system-ui, -apple-system, BlinkMacSystemFont, sans-serif, iconfont, icomoon, FontAwesome, &quot;Font Awesome 5 Pro&quot;, &quot;Font Awesome 6 Pro&quot;, IcoFont, fontello, themify, &quot;Material Icons&quot;, &quot;Material Icons Extended&quot;, bootstrap-icons, &quot;Segoe Fluent Icons&quot;, Material-Design-Iconic-Font, office365icons, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &quot;Android Emoji&quot;, EmojiSymbols, &quot;emojione mozilla&quot;, &quot;twemoji mozilla&quot;; text-shadow: rgba(164, 160, 154, 0.85) 0px 0px 1.15px, rgba(123, 123, 123, 0.8) 0px 0px 1px, rgba(48, 47, 45, 0.27) 0px 0px 0.75px; -webkit-text-stroke: 0.05px currentcolor; font-feature-settings: &quot;liga&quot; 0; font-variant: no-common-ligatures proportional-nums; font-optical-sizing: auto; font-kerning: auto; -webkit-font-smoothing: antialiased !important; text-rendering: optimizelegibility !important;\">2022-08-23 10:12:03</td></tr></tbody></table><!--kg-card-end: html--><p>后来我又研究了一下doumark-action，发现可以把数据缓存成JSON，而且因为GitHub又raw格式的链接，可以提供外链。所以我就灵机一动：我可不可前端请求JSON数据，然后把JSON转换成hugo渲染用到的那种格式？</p><p>经过测试后发现确实可以实现数据转换，所以就有了今天这个方案。</p><pre><code class=\"language-javascript\">var temp = { movies : [] }\n$.getJSON('https://jsd.cdn.zzko.cn/gh/rebron1900/doumark-action@master/data/douban/movie.json',function(r){\n    \n    $(r).each(function(){\n        temp.movies.push({id : this.id, \n                          title : this.subject.title, \n                          subtitle : this.subject.card_subtitle, \n                          poster: this.subject.pic.large,\n                          pubdate: this.subject.pubdate[0],\n                          url: this.subject.url,\n                          rating: this.subject.rating.value,\n                          genres: this.subject.genres.join(','),\n                          star: this.subject.rating.star,\n                          comment: this.comment,\n                          tags: this.tags.join(','),\n                          star_time: this.create_time\n                         })\n    })\n    \n})</code></pre><h3 id=\"%E5%AE%9E%E7%8E%B0%E5%BC%80%E5%A7%8B\">实现开始</h3><h4 id=\"%E7%BC%93%E5%AD%98%E8%B1%86%E7%93%A3%E6%95%B0%E6%8D%AE\">缓存豆瓣数据</h4><p>这里我就不写了，引用<a href=\"https://imnerd.org/doumark.html?ref=1900.live\">@怡红公子</a> 大佬的教程，唯一的区别是我更改了 <code>format</code> 为 <code>json</code> 。</p><p>使用其实很简单，在你的博客仓库中新建 <code>.github/workflows/douban.yml</code> 文件，以观影为例添加如下内容。它实现了每小时自动抓取你的豆瓣观影记录并更新到文件中，如果发现文件有更新则触发 commit 提交。</p><pre><code class=\"language-yml\">name: douban\non: \n  schedule:\n  - cron: \"30 * * * *\"\n\njobs:\n  douban:\n    name: Douban mark data sync\n    runs-on: ubuntu-latest\n    steps:\n    - name: Checkout\n      uses: actions/checkout@v2\n\n    - name: movie\n      uses: lizheming/doumark-action@master\n      with:\n        id: lizheming\n        type: movie\n        format: json\n        dir: ./douban\n\n    - name: Commit\n      uses: EndBug/add-and-commit@v8\n      with:\n        message: 'chore: update douban data'\n        add: './douban'\n</code></pre><p>该 workflow 总共分为三步，</p><ul><li>第一步初始化 Git 仓库；</li><li>第二步调用 <a href=\"https://github.com/lizheming/doumark-action?ref=1900.live\">doumark-action</a> 同步豆瓣账号 <code>lizheming</code> 的 <code>movie</code> 类型数据到 <code>./douban</code> 文件夹下，并保存为 <code>json</code> 格式文件；</li><li>最后一步则是当 <code>./douban</code> 文件夹下有更新则调用插件提交修改。</li></ul><h4 id=\"%E8%BD%AC%E5%8C%96%E6%95%B0%E6%8D%AE\">转化数据</h4><p>完整代码在下面</p><ol><li>在你的主题里添加一个新页面 <code>page-movies.hbs</code> 并添加页面常规代码</li><li>这里我添加了一个主题自定义判断，如果设置了json数据文件的地址才做数据转换</li><li>定义一个临时变量 <code>temp</code> 用于存放最终转换后的数据</li><li>通过JQuery <code>getJSON</code> 方法请求json文件。</li><li>通过 <code>each</code> 方法遍历数据，并从JSON数据里拿去到想要的数据，按hugo那边的格式组成 <code>JSON</code> 对象，并存在变量 <code>temp.movies</code> 里。</li><li>因为取到的分类数据是 <code>剧情,动画</code> 这种带 <code>,</code> 号分隔符的，而之后筛选需要用到单独标签名称，所以需要做下处理，我这里重新遍历了 <code>movies</code> 对象，如果有多个标签的则用 <code>split</code> 做分割，并且通过 <code>indexOf</code> 避免重复，如果有了就不再重复添加。</li><li>另外这里也顺带处理了一下 <code>year</code> 字段，原因和分类一样，之后筛选要用到，所以要去重复，并且做了截取处理。</li><li>通过javascript-template来渲染数据</li></ol><figure class=\"kg-card kg-code-card\"><pre><code class=\"language-html\">{{#if @custom.douban_movie}}\n\t\t&lt;script&gt;\n\t\t$(document).ready(function () {\n\t\t\tvar temp = { movies : [] }\n\t\t\t$.getJSON('{{ @custom.douban_movie }}',function(r){\n\t\t\t\t$(r).each(function(){\n\t\t\t\t\ttemp.movies.push({id : this.id, \n\t\t\t\t\t\t\t\t\ttitle : this.subject.title, \n\t\t\t\t\t\t\t\t\tsubtitle : this.subject.card_subtitle, \n\t\t\t\t\t\t\t\t\tposter: this.subject.pic.large,\n\t\t\t\t\t\t\t\t\tpubdate: this.subject.pubdate[0],\n\t\t\t\t\t\t\t\t\turl: this.subject.url,\n\t\t\t\t\t\t\t\t\trating: this.subject.rating.value,\n\t\t\t\t\t\t\t\t\tgenres: this.subject.genres.join(','),\n\t\t\t\t\t\t\t\t\tstar: this.subject.rating.star_count,\n\t\t\t\t\t\t\t\t\tcomment: this.comment,\n\t\t\t\t\t\t\t\t\ttags: this.tags.join(','),\n\t\t\t\t\t\t\t\t\tstar_time: this.create_time\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t$('.movies').html(tmpl('tmpl-movies', temp))\n\t\t\t\tvar gtemp = [];\n\t\t\t\tvar gyear = [];\n\t\t\t\t$(temp.movies).each(function(){ \n\t\t\t\t\tt = this.genres.split(',');\n\t\t\t\t\tif(t.length &gt; 0){\n\t\t\t\t\t\t$(t).each(function(i,d){\n\t\t\t\t\t\t\tif(gtemp.indexOf(d) == -1){ gtemp.push(d) }\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\tgtemp.push(this.genres) }\n\n\t\t\t\t\tvar tyear = this.subtitle.substring(0,4);\n\t\t\t\t\tif(gyear.indexOf(tyear) == -1 ){\n\t\t\t\t\t\tgyear.push(tyear)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.genres').html(tmpl('tmpl-genres', gtemp))\n\t\t\t\t$('.fyear').html(tmpl('tmpl-fyear', gyear.sort(function(a,b){ return b-a }\t)))\n\t\t\t})\n\t\t\t\n\t\t});\n\t\t&lt;/script&gt;\n\t{{/if}}</code></pre><figcaption>page-movies.hbs script部分代码</figcaption></figure><h3 id=\"%E6%B7%BB%E5%8A%A0%E6%A0%B7%E5%BC%8F%E5%92%8C%E6%A8%A1%E6%9D%BF%E4%BB%A3%E7%A0%81\">添加样式和模板代码</h3><p>在 <code>page-movies.hbs</code> 中添加样式代码，这里的代码我都是直接复制hugo实现那边的，可以完美使用，不需要做任何改动。</p><figure class=\"kg-card kg-code-card\"><pre><code class=\"language-html\">&lt;!-- 样式代码 --&gt;\n&lt;style&gt;\n    .gFnzgG,.gFnzgG *{box-sizing:border-box}\n    .fIuTG{display:flex;flex-wrap:wrap;margin:0 -2%;background:0 0;line-height:100%;justify-content: center;}\n    .dfdORB{width:150px;margin:0 2% 30px;padding:0;font-size:15px}\n    .dfdORB a{text-decoration:none}\n    .kMthTr{margin-top:12px;line-height:1.3;max-height:2.6rem;overflow:hidden}\n    .eysHZq{display:flex;-webkit-box-align:center;align-items:center;margin-top:5px;min-height:16px;line-height:1;-webkit-box-align: center;}\n    .HPRth{position:relative;min-height:87px;overflow:hidden;color:transparent;width: 150px;height: 230px;}\n    .HPRth:hover{box-shadow:rgb(48 55 66 / 30%) 0 1rem 2.1rem}\n    .jcTaHb{display:flex;-webkit-box-align:center;align-items:center}\n    .lhtmRw{margin-right:1px;width:12px;height:12px;color:#fccd59}\n    .gaztka{margin-right:1px;width:12px;height:12px;color:#eee}\n    .iibjPt{margin-left:5px;color:#555;font-size:14px}\n    .jvCTkj{margin-bottom:10px}\n    .kEoOHR{display:inline-block;margin-right:15px;text-decoration:none;color:#157efb}\n    .dvtjjf{display:inline-block;color:#555;text-decoration:none;padding:0 5px}\n    .dvtjjf.active{background:rgba(85,85,85,.1)}\n    .hide{display:none}\n    .sort-by{text-align:right;margin-top:-15px}\n    .sort-by-item{margin-left:10px;padding:0 5px;line-height:20px;text-decoration: none;color: var(--color-content-secondary);}\n    .sort-by-item.active{background:rgba(85,85,85,.1)}\n    .sort-by-item svg{margin-right:5px}\n    .sc-hKFxyN img{max-width:100%!important;height:100%!important;display:block!important;vertical-align:middle!important;margin: 0;padding: 0;}\n    .lazyload-wrapper {height: 100%;}\n    @media(min-width:1024px){\n        .lg\\:col-span-6{grid-column:span 6/span 6!important}\n        .lg\\:col-start-2{grid-column-start:2!important}\n    }\n    @media (max-width:550px){\n        .jcTaHb,.sc-bdnxRM{display:none}\n    }\n&lt;/style&gt;\n&lt;!-- 筛选功能用到的js --&gt;\n&lt;script type=\"text/javascript\"&gt;\n    function search(e) {\n        document.querySelectorAll('.dfdORB').forEach(item =&gt; item.classList.add('hide'));\n        document.querySelector(`.dvtjjf.active[data-search=\"${e.target.dataset.search}\"]`)?.classList.remove('active');\n        if(e.target.dataset.value) {\n            e.target.classList.add('active');\n        }\n        const searchItems = document.querySelectorAll('.dvtjjf.active');\n        const attributes = Array.from(searchItems, searchItem =&gt; {\n            const property = `data-${searchItem.dataset.search}`;\n            const logic = searchItem.dataset.method === 'contain' ? '*' : '^';\n            const value = searchItem.dataset.method === 'contain' ? `${searchItem.dataset.value}` : searchItem.dataset.value;\n            return `[${property}${logic}='${value}']`;\n        });\n        const selector = `.dfdORB${attributes.join('')}`;\n        document.querySelectorAll(selector).forEach(item =&gt; item.classList.remove('hide'));\n    }\n    window.addEventListener('click', function(e) {\n        if(e.target.classList.contains('sc-gtsrHT')) {\n            e.preventDefault();\n            search(e);\n        }\n    });\n    function sort(e) {\n        const sortBy = e.target.dataset.order;\n        const style = document.createElement('style');\n        style.classList.add('sort-order-style');\n        document.querySelector('style.sort-order-style')?.remove();\n        document.querySelector('.sort-by-item.active')?.classList.remove('active');\n        e.target.classList.add('active');\n        if(sortBy === 'rating') {\n            const movies = Array.from(document.querySelectorAll('.dfdORB'));\n            movies.sort((movieA, movieB) =&gt; {\n                const ratingA = parseFloat(movieA.dataset.rating) || 0;\n                const ratingB = parseFloat(movieB.dataset.rating) || 0;\n                if(ratingA === ratingB) {\n                    return 0;\n                }\n                return ratingA &gt; ratingB ? -1 : 1;\n            });\n            const stylesheet = movies.map((movie, idx) =&gt; `.dfdORB[data-rating=\"${movie.dataset.rating}\"] { order: ${idx}; }`).join('\\r\\n');\n            style.innerHTML = stylesheet;\n            document.body.appendChild(style);\n        }\n    }\n    window.addEventListener('click', function(e) {\n        if(e.target.classList.contains('sort-by-item')) {\n            e.preventDefault();\n            sort(e);\n        }\n    });\n&lt;/script&gt;</code></pre><figcaption>样式代码</figcaption></figure><h3 id=\"%E6%B8%B2%E6%9F%93%E7%AD%9B%E9%80%89%E5%99%A8%E5%92%8C%E7%94%B5%E5%BD%B1%E4%BF%A1%E6%81%AF\">渲染筛选器和电影信息</h3><p>这里我是按着hugo的代码逻辑，用tmpl做了实现，都是输出数据而已，就不细说了。其中 <code>year</code> 部分做了一下空值判断。</p><pre><code class=\"language-html\">\t&lt;script type=\"text/x-tmpl\" id=\"tmpl-movies\"&gt;\n\t\t{% for (var i=0; i&lt;o.movies.length; i++) { %}\n\t\t&lt;div \n\t\t\tclass=\"sc-gKAaRy dfdORB hint--top hint--medium\" \n\t\t\tdata-year=\"{%= typeof(o.movies[i].pubdate) == \"undefined\" ? \"\":o.movies[i].pubdate.substring(0,4) %}\" \n\t\t\tdata-star=\"{%= o.movies[i].star %}\"\n\t\t\tdata-rating=\"{%= o.movies[i].rating %}\"\n\t\t\tdata-genres=\"{%= o.movies[i].genres %}\"  \n\t\t\taria-label=\"{%= o.movies[i].comment %}\" \n\t\t&gt;\n\t\t\t&lt;a rel=\"link\" href=\"{%= o.movies[i].url %}\" target=\"_blank\"&gt;\n\t\t\t&lt;div class=\"sc-hKFxyN HPRth\"&gt;\n\t\t\t\t&lt;div class=\"lazyload-wrapper \"&gt;\n\t\t\t\t&lt;img class=\"avatar\" src=\"{%= o.movies[i].poster %}\" referrer-policy=\"no-referrer\" loading=\"lazy\" alt=\"{%= o.movies[i].title %}\" width=\"150\" height=\"220\"&gt;\n\t\t\t\t&lt;/div&gt;\n\t\t\t&lt;/div&gt;\n\t\t\t&lt;div class=\"sc-iCoGMd kMthTr\"&gt;{%= o.movies[i].title %}&lt;/div&gt;\n\t\t\t&lt;div class=\"sc-fujyAs eysHZq\"&gt;\n\t\t\t\t&lt;span class=\"sc-jSFjdj jcTaHb\"&gt;\n\n\t\t\t\t\t{% for (var b=0; b&lt;5; b++) { %}\n\t\t\t\t\t&lt;svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" class=\"sc-dlnjwi {% if (b &lt; o.movies[i].star) { %} lhtmRw {% }else{ %} gaztka {% } %} \"&gt;\n\t\t\t\t\t\t&lt;path fill=\"none\" d=\"M0 0h24v24H0z\"&gt;&lt;/path&gt;\n\t\t\t\t\t\t&lt;path fill=\"currentColor\" d=\"M12 18.26l-7.053 3.948 1.575-7.928L.587 8.792l8.027-.952L12 .5l3.386 7.34 8.027.952-5.935 5.488 1.575 7.928z\"&gt;&lt;/path&gt;\n\t\t\t\t\t&lt;/svg&gt;\n\t\t\t\t\t{% } %}\n\t\t\t\t&lt;/span&gt;\n\t\t\t\t&lt;span class=\"sc-pNWdM iibjPt\"&gt;{%= o.movies[i].rating %}&lt;/span&gt;\n\t\t\t&lt;/div&gt;\n\t\t\t&lt;/a&gt;\n\t\t&lt;/div&gt;\n\t\t{% } %}\n\n\t&lt;/script&gt;\n\t&lt;script type=\"text/x-tmpl\" id=\"tmpl-genres\"&gt;\n\t\t&lt;a href=\"javascript:void 0;\" class=\"sc-gtsrHT kEoOHR\" data-search=\"genres\" data-method=\"contain\" data-value=\"\"&gt;全部&lt;/a&gt;\n\t\t{% for (var i=0; i&lt;o.length; i++) { %}\n\t\t&lt;a href=\"javascript:void 0;\" class=\"sc-gtsrHT dvtjjf\" data-search=\"genres\" data-method=\"contain\" data-value=\"{%= o[i] %}\"&gt;{%= o[i] %}&lt;/a&gt;\n\t\t{% } %}\n\t&lt;/script&gt;\n\t&lt;script type=\"text/x-tmpl\" id=\"tmpl-fyear\"&gt;\n\t\t&lt;a href=\"javascript:void 0;\" class=\"sc-gtsrHT kEoOHR\" data-search=\"year\" data-method=\"equal\" data-value=\"\"&gt;全部&lt;/a&gt;\n\t\t{% for (var i=0; i&lt;o.length; i++) { %}\n\t\t&lt;a href=\"javascript:void 0;\" class=\"sc-gtsrHT dvtjjf\" data-search=\"year\" data-method=\"equal\" data-value=\"{%= o[i] %}\"&gt;{%= o[i] %}&lt;/a&gt;\n\t\t{% } %}\n\t&lt;/script&gt;\n</code></pre><p>完整代码请查看<a href=\"https://github.com/rebron1900/attila?ref=1900.live\">Github</a>，或者查看 <code>page-movies.hbs</code> </p><p><a href=\"https://github.com/rebron1900/attila/blob/master/page-movies.hbs?ref=1900.live\">https://github.com/rebron1900/attila/blob/master/page-movies.hbs</a></p>","date":"15 October 2022","path":"ghost-blog-implementation-douban-watch-list"}},"context":{}}