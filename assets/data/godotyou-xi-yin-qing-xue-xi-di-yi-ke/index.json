{"hash":"09771c91682eedafd3ee73b22826856fd274f766","data":{"metadata":{"siteName":"只是玩玩 | JUST FUN","siteDescription":"Hello"},"post":{"id":"63158312cf533d1c2cf29b34","title":"Godot游戏引擎学习 第一课","content":"<p>因为最近在B站都喜欢看一些独立游戏开发的视频，导致大数据知道我的喜好一直给我推相关视频，经常能刷到一些游戏开发者的开发录像和直播。那段时间经常看<strong><a href=\"https://live.bilibili.com/7805345?visit_id=aa7b3ruetrs0&ref=1900.live\">Carotaa666</a> </strong>的直播，那几天几乎每天晚上都会上去看下他的进度。当时还问过他那个是什么引擎，因为直播间人少他每次也都和我做了互动。</p><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn.1900.live/202012/image.png\" class=\"kg-image\" alt loading=\"lazy\" width=\"2560\" height=\"1439\"></figure><p>看了一段时间后知道他用的<a href=\"https://zh.wikipedia.org/wiki/GameMaker:_Studio?ref=1900.live\">Game Maker stuido2</a>做的开发，以前也了解过这家公司的<a href=\"https://zh.wikipedia.org/wiki/RPG_Maker_VX?ref=1900.live\">RPG Maker</a>，是一家公司的产品，不过GMS2定制性更强，能做出什么游戏完全看程序员水平，不过只能开发2D游戏。但是这个引擎是收费的，不过也不贵，300块左右就能在steam上买到了。当时也看过一些这个引擎的学习资料，当时给我的感觉是没有以前开发C#的时候那种可拖放式的组件，很多功能都能要自己实现（纯个人感受吧）。</p><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn.1900.live/202012/wei-xin-tu-pian-_20201219205619.png\" class=\"kg-image\" alt loading=\"lazy\" width=\"2568\" height=\"1408\"></figure><p>恰好家里的显示器前段时间拿去公司当监控显示器用了，想等着双十二买个新显示器后再开始学。在这个期间又看到了另外一个游戏引擎Godot，一款开源的2d、3d游戏引擎，也看过很多程序员的评测视频，感觉还不错，他们的目标是要成为和unity那样的游戏引擎，而且B站的教学视频也还不错，而且因为是开源的，所以也没有任何费用，游戏的盈利也完全可以归自己所有。</p><p>前几天显示器也到了，该做的准备工作也做好了，所以今天就开始学习第一章吧。</p><hr><p>选了很多教程，最后选了B站<a href=\"https://space.bilibili.com/7092?ref=1900.live\">timothyqiu</a> 前辈的一个平台游戏制作视频为入门，</p><p>本文及后续系列文章只是我学习中个人理解的记录，并不能作为学习参考，我也是个小菜鸡。如果有路过本博客的前辈发现有不对的地方希望指正。</p><p>Godot使用的是类似Python的一种语言，且思路类似以前自己学的C#那种面向对象开发的思维，整体难度不算太高，以前自己学过C#，还算比较好上手。</p><p>游戏引擎： https://godotengine.org </p><p>图片素材： https://www.kenney.nl/assets/simplified-platformer-pack</p><h3 id=\"-\">这次学习所踩的坑：</h3><ol><li>导入素材时需要注意，默认的情况下Godot会开启Filter滤镜优化图片，因为这个游戏是像素风格，所以开启Filter后像素点会模糊，所以需要关闭，并且将导入预设改为2D模式，并设置为默认状态(之前导入的时候没注意这个，每次导入都不对)</li><li>Titlemap可以在一整块集合素材上选取特定区域的图片大小作为贴图。选好一块要点击新建图块按钮才可以重新新建图块，设置碰撞区域同理</li><li>Godot以场景（Scene）归纳对象，不同Scene可以相互引用实力化。</li><li>Titlemap的砖块大小是根据素材尺寸来的，素材越大，尺寸越大（应该是可以压缩的，目前没找到资料）（2020年12月20日：使用 `scale` 可以按比例压缩素材大小）</li></ol><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn.1900.live/202012/wei-xin-tu-pian-_20201219211210.png\" class=\"kg-image\" alt loading=\"lazy\" width=\"2015\" height=\"807\"></figure><h3 id=\"--1\">一章代码部分：</h3><pre><code class=\"language-GDScript\">extends KinematicBody2D\n\n# 设置人物重力\nconst gravity = 2000 \n# 设置人物移动速度\nconst speed = 350\n# 设置人物跳跃高度\nconst jump_force = 800\n\n# 速度\nvar velocity = Vector2.ZERO\n# 是否处于跳跃状态\nvar is_jumping = false\n\nonready var animation_palyer = $AnimationPlayer\nonready var sprite = $Sprite\n\n# 物理帧处理，delta参数忘记是啥意思了，好像是同步画面的。\nfunc _physics_process(delta):\n\t# move_and_slide为父类函数，用于sprite移动，第二个参数指定天花板是那个方向\n\tvelocity = move_and_slide(velocity, Vector2.UP)\n\t# is_on_floor父类函数，如果主体在地板上，则返回true。仅在调用move_and_slide（）时更新。\n\tif is_on_floor():\n\t\t# 如果人物在地板上则允许进行跳操作\n\t\tis_jumping = false\n\n# 检测玩家输入（这个函数只在玩家有按下按键时才进行调用）\nfunc _input(event):\n\t# 如果玩家按下了跳按钮，并且处于可跳状态则让精灵腾空\n\tif event.is_action_pressed(\"move_jump\") and not is_jumping:\n\t\tvelocity.y = -jump_force\n\t\t# 设置跳跃状态，避免可以进行连跳操作\n\t\tis_jumping = true\n\n# 每一帧都会执行这个函数\nfunc _process(delta):\n\t# 检测用户按钮，get_action_strength返回按下状态，按下为1，没按则0，如果按下right则返回复数，按下left返回正数\n\tvar direction = Input.get_action_strength(\"move_right\") - Input.get_action_strength(\"move_left\")\n\t# 利用获取到的方向值进行人物左右移动。\n\t# 移动\n\tvelocity.x = direction * speed\n\t# 跳跃\n\tvelocity.y += gravity * delta\n\t\n\t# 控制sprite动画\n\t# 如果处于可跳跃状态，则播放跳跃动画\n\tif is_jumping:\n\t\tanimation_palyer.play(\"jump\")\n\t# 空闲状态播放空闲动画\n\telif direction == 0:\n\t\tanimation_palyer.play(\"idle\")\n\t# 移动状态则播放移动动画\n\telse:\n\t\tanimation_palyer.play(\"walk\")\n\t\tsprite.flip_h = direction &lt; 0\n\t\n</code></pre><h3 id=\"--2\">最终效果</h3><p>游戏视窗的问题还要去看下设置（已解决，之前用的图块素材太大，导致画到画面上太大，换成小图就和教程一样了）</p><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn.1900.live/202012/qi-ye-wei-xin-jie-tu-_202012192145461.png\" class=\"kg-image\" alt loading=\"lazy\" width=\"1040\" height=\"639\"></figure>","date":"19 December 2020","path":"godotyou-xi-yin-qing-xue-xi-di-yi-ke"}},"context":{}}